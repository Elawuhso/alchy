{"version":3,"sources":["components/clickcomponent.js","helpfunctions.js","components/reactor.js","components/statistic.js","components/main.js","components/reactorsettings.js","components/brewing.js","components/combat.js","components/sidebar.js","components/sidebarleft.js","modules/game.js","modules/upgrades.js","services/localstorage.js","modules/rewards.js","modules/clickdelay.js","services/clickrewards.js","modules/capacity.js","services/capacity.js","modules/reactortypes.js","modules/brewingtypes.js","services/brewing.js","services/upgrade.js","modules/enemytypes.js","modules/loottable.js","services/combat.js","modules/reactor.js","services/autoclicker.js","services/myeventlistener.js","floatingtext.js","toast.js","components/modal.js","App.js","serviceWorker.js","index.js"],"names":["ClickBar","props","dur","clickDelay","left","Date","getTime","lastClick","curHeight","react_default","a","createElement","className","Math","round","web","from","height","to","config","duration","reset","props2","style","SingleClicker","clicks","undefined","isAuto","isShrink","name","onClick","e","index_es","icon","rewards","rewardAmount","power","rewardName","maxCount","width","ClickComponent","this","data","clicksReward","_this","manualClickerHere","clicker","map","i","upgradeService","hasAutoClickerUpgrade","clickRewards","length","key","rewardFor","getClickPower","getClicks","specialCount","shrinkAuto","theName","onClickClicker","React","Component","format","val","formatHealth","formatTime","calcMinMaxMult","min","max","random","Reactor","fluids","reactor","getFluid","stopInput","s","curType","selected","isRunning","shrink","selectReactor","inputFluid","flu","reagentRatio","inputValue","capacity","Fragment","outputFluid","outputValue","lastOutput","ReactorComponent","target","deselect","item","reactor_Reactor","selectedReactor","ReactChartkick","addAdapter","Chart","Statistic","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","colors","timer","setTimeout","tick","statisticDelay","_this2","slice","_loop","fluid","hasOwnProperty","amount","index","findIndex","dat","push","statisticPoints","shift","setState","forceUpdate","_this3","removed","showData","filter","selectedFluids","showColors","col","re","react_chartkick_esm","Main","components_clickcomponent","bool","components_reactor","id","statistic","Upgrade","costText","upgr","fluidCostType","type","fluidCost","replace","buyable","flask","dangerouslySetInnerHTML","__html","text","ReactorSettings","runningText","getFluidFlow","input","getAvailableReactorTypes","setReactorType","shrinkReactor","toggleInput","defaultValue","step","fl","lastInput","inputFlow","inputFlowPerc","output","outputFlow","upgrades","reactorsettings_Upgrade","onBuyReactorUpgrade","BrewingFlask","require","req","value","QueueItem","curWidth","startDate","Brewing","autoBrewing","getAutoBrewing","curAutoBrewing","brewingService","getQueue","removeQueueItem","getAvailableBrewingTypes","getBrewingTimeBonus","onBrewFlask","checked","onChange","setAutoBrewingFlask","Dungeon","cols","cell","c","MapCell","isDungeon","enemy","enemies","Map","mapLevel","closeMap","classNames","wallsToString","deadEnd","active","visible","visited","looted","entries","hasLoot","fluidLootType","flaskLootType","Combat","document","addEventListener","handleKeyDown","keyCode","combatService","move","startMap","attackField","menuType","getMenuType","getMap","getDungeon","combat","getCombat","playerNeedHeal","isThrottled","healingflask","getEnemies","getEnemy","getCells","getCols","useFlask","health","maxHealth","curMap","faDungeon","faSkullCrossbones","combat_Map","combat_Dungeon","forEach","fluidThere","flaskCostType","flaskCost","Sidebar","fluidNames","menubar","selectedMenuBar","getAllUnbought","sidebar_Upgrade","onBuyUpgrade","components_brewing","openModal","shrinkAutoClicker","handleStatistic","chartDisplay","onSelectMenuBar","src_components_combat","fla","reactorsettings","FluidBar","maxAmount","FlaskItem","SidebarLeft","window","innerHeight","messagesEnd","scrollIntoView","behavior","scrollToBottom","keys","capacityService","getCapacity","getAllCapacityUnbought","buyableHalf","items","logs","transform","opacity","enter","leave","Moment","date","float","clear","ref","el","game","autoClicker","brewingQueue","prestiges","subType","level","costIncrease","lvl","pow","floor","infinite","localstorage","Promise","resolve","reject","JSON","parse","localStorage","getItem","console","log","newGame","err","setItem","stringify","gameData","specialName","specialAmount","ClickRewards","theReward","find","rew","specialCountDecrease","specialCountDecreasePresti","clickspeed","doubleclicks","defDelay","startValue","bonus","CapacityService","theCapacity","cap","bonusCap","reactorTypes","outputCapacity","brewingTypes","desr","bonusTime","BrewingService","getFlaskFunc","emptyBrewingQueueFunc","checkQueue","emptyBrewingQueue","splice","clearTimeout","nextDur","remainingTime","obj","createClass","every","UpgradeService","normalUpgrCounter","alreadyBought","bup","r","includes","sort","sortByCost","some","getInfUpgr","assign","cost","up","allReac","theReactor","rea","reactorType","reagent","reagentFluid","all","theBrewing","brew","foundType","brewingTimeBonus","auto","manualClicks","newInfiUpgr","b","amountA","amountB","_this4","enoughFluid","_this5","enemyTypes","healthFunc","dmgFunc","minDmg","maxDmg","lootChance","lootTable","option","flaskLoot","fluidLoot","CombatService","getLootFunc","combatChangedFunc","fightTimer","dungeons","dung","curMenu","startFight","flaskRewardBonus","mana","maxMana","ep","maxEp","dmg","curMapPos","curDungeonPos","highestMap","myTurn","rows","curDungeon","getCell","x","y","dir","curCell","walls","nextCell","getCellByCoord","setAllNeighboursVisible","newPos","gridIndex","nextMap","allDead","makeDmg","AttackField","generate","cellAmount","MazeCell","Enemy","_this6","stack","prepared","checkNeighbours","removeWalls","pop","rnd","neighbours","top","right","bottom","nextY","nextX","n","_this7","str","enemyTypeName","_this8","alwaysLoot","arguments","enemyType","availLoot","t","loot","runFunc","lastReagent","ReactorUpgrade","recalc","setInterval","clearInterval","upgrade","newName","resetValues","inputAmount","outputAmount","tooLessInput","getCost","upgradePower","upgradeInput","reactorName","_this9","theUpgrade","_this10","_this11","AutoClicker","func","speed","MyEventListener","addLogFunc","addLog","FloatingText","texts","lastAdded","msg","newText","concat","toConsumableArray","Toast","counter","delay","added","oldstate","Modal","children","library","add","faGhost","App","showModal","compressedExport","importTextareaValue","localStorageService","loadGame","then","res","reac","runReactor","autoClickerClick","getLoot","combatChanged","getFlask","myEventListener","_data$upgrades","checkNewInfiUpgrades","apply","eventOccured","newSelFlu","unlockCombat","init","saveTimer","save","floatingtext","createRef","toast","saveGame","exportString","LZString","compressToBase64","importedString","decompressFromBase64","destroy","current","show","run","addValues","addOutputValue","reward","getClickCounter","_ref","pageX","pageY","getUpgrade","addFlask","lvlUp","changeSelectedFluids","update","setType","toggleShrink","brewingType","getSingleBrewingType","addToQueue","lootText","useHealFlask","modalText","select","readOnly","changeImportTextarea","importGame","components_sidebarleft","main","components_sidebar","src_toast","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1e51b496.chunk.js","sourcesContent":["import React from 'react';\nimport './clickcomponent.scss';\nimport { Spring } from 'react-spring';\n// import * as easings from 'd3-ease';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass ClickComponent extends React.Component {\n\tgetClicks(name) {\n\t\tif (this.props.data !== undefined && this.props.data.clicksReward !== undefined)\n\t\t\treturn this.props.data.clicksReward[name];\n\t\treturn undefined;\n\t}\n\n\trender() {\n\t\tlet manualClickerHere = false;\n\t\tthis.props.data.clicker.map((name, i) => {\n\t\t\tif (!this.props.upgradeService.hasAutoClickerUpgrade(name))\n\t\t\t\treturn manualClickerHere = true;\n\t\t});\n\t\treturn <div className=\"clickComponent\">\n\t\t\t{\n\t\t\t\tmanualClickerHere?\n\t\t\t\t<ClickBar\n\t\t\t\t\tclickDelay={this.props.clickRewards.clickDelay(\n\t\t\t\t\t\tthis.props.data.clicker[this.props.data.clicker.length-1] // last clicker\n\t\t\t\t\t)}\n\t\t\t\t\tlastClick={this.props.lastClick}\n\t\t\t\t/>\n\t\t\t\t: ''\n\t\t\t}\n\t\t\t{(this.props.data.clicker.map((name, i) => (\n\t\t\t\t<SingleClicker\n\t\t\t\t\tname={name}\n\t\t\t\t\tkey={name}\n\t\t\t\t\trewards={this.props.clickRewards.rewardFor(name)}\n\t\t\t\t\tpower={this.props.upgradeService.getClickPower(name, true)}\n\t\t\t\t\tclicks={this.getClicks(name)}\n\t\t\t\t\tmaxCount={this.props.clickRewards.specialCount(name)}\n\t\t\t\t\tisAuto={this.props.upgradeService.hasAutoClickerUpgrade(name)}\n\t\t\t\t\tisShrink={this.props.data.shrinkAuto}\n\t\t\t\t\tonClick={(e, theName) => this.props.onClickClicker(theName, false, e)}\n\t\t\t\t/>\n\t\t\t)))}\n\t\t</div>\n\t}\n}\n\nfunction ClickBar(props) {\n\tconst dur = props.clickDelay;\n\tlet left = dur - new Date().getTime() + props.lastClick.getTime();\n\tlet curHeight = 100;\n\tif (dur > 0)\n\t\tcurHeight = 100*(new Date().getTime() - props.lastClick.getTime()) / dur;\n\treturn (\n\t\t<div className=\"nextClickProg\">\n\t\t\t<div className=\"label\">{Math.round(props.clickDelay/100)/10}s</div>\n\t\t\t<Spring from={{ height: curHeight+'%' }} to={{ height: 100+'%' }}\n\t\t\t\tconfig={{ duration: left }} reset={true}>\n\t\t\t\t{props2 => <div style={props2} className=\"bar\"></div>}\n\t\t\t</Spring>\n\t\t</div>)\n}\n\nfunction SingleClicker(props) {\n\tconst clicks = (props.clicks !== undefined)? props.clicks: 0;\n\tconst isAuto = (props.isAuto)? ' isAuto': '';\n\tconst isShrink = (props.isShrink)? ' shrink': '';\n\treturn (\n\t\t<div className={'clicker '+ props.name + isAuto + isShrink}>\n\t\t\t<div className=\"img\" onClick={(e) => props.onClick(e, props.name)}>\n\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t<FontAwesomeIcon icon={props.name} />\n\t\t\t\t</div>\n\t\t\t\t{isAuto\n\t\t\t\t\t?<div className=\"label\">\n\t\t\t\t\t\t+{props.rewards.rewardAmount*props.power} {props.rewards.rewardName}/s\n\t\t\t\t\t</div>\n\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"prog\">\n\t\t\t\t<div className=\"label\">\n\t\t\t\t\t{clicks}\n\t\t\t\t\t/\n\t\t\t\t\t{Math.round(props.maxCount)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"bar\" style={{width: (100*clicks/props.maxCount+'%')}}></div>\n\t\t\t</div>\n\t\t</div>)\n}\n\n\nexport default ClickComponent;\n","export function format(val) {\n\tif (val < .01) {\n\t\treturn Math.round(val*1000)/1000;\n\t} else if (val < 1)\n\t\treturn Math.round(val*100)/100;\n\telse if (val < 10) {\n\t\treturn Math.round(val*10)/10;\n\t} else {\n\t\treturn Math.round(val);\n\t}\n}\nexport function formatHealth(val) {\n\tif (val < 10)\n\t\treturn Math.round(val*10)/10;\n\telse if (val < 10000) {\n\t\treturn Math.round(val);\n\t} else {\n\t\treturn Math.round(val/1000)+'K';\n\t}\n}\n\n// expect millisecond input\nexport function formatTime(val) {\n\tif (val < 1000) {\n\t\treturn Math.round(val) + ' ms';\n\t} else if (val < 60000)\n\t\treturn Math.round(val/1000) + ' sec';\n\telse if (val < 3600000) {\n\t\treturn Math.round(val)/60000 + ' min';\n\t} else {\n\t\treturn 'long';\n\t}\n}\n\n\nexport function calcMinMaxMult(min, max) {\n\treturn 1+(Math.random()*(max+min)-min)/100;\n}\n","import React from 'react';\nimport './reactor.scss';\nimport { format } from '../helpfunctions';\n\nclass ReactorComponent extends React.Component {\n\tdeselect(e) {\n\t\tif (e.target.className === 'ReactorComponent') {\n\t\t\tthis.props.selectReactor(-1);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn <div className=\"ReactorComponent\" onClick={(e) => this.deselect(e)}>\n\t\t{  this.props.data.reactor.map((item, i) => (\n\t\t\t<Reactor\n\t\t\t\tkey={i}\n\t\t\t\treactor={item}\n\t\t\t\tselectReactor={() => this.props.selectReactor(i)}\n\t\t\t\tselected={(this.props.selectedReactor===i)? ' selected': ''}\n\t\t\t/>\n\t\t))}\n\t\t</div>\n\t}\n}\n\nfunction Reactor(props) {\n\tconst fluids = props.reactor.getFluid();\n\tconst stopInput = [];\n\tprops.reactor.stopInput.map((s, i) => {\n\t\tstopInput[i] = (s? ' stopInput': '');\n\t});\n\treturn (\n\t\t<div\n\t\t\tclassName={'reactor ' + props.reactor.curType + props.selected +\n\t\t\t(props.reactor.isRunning?' isRunning':'') +\n\t\t\t(props.reactor.shrink?' shrink':'')}\n\t\t\tonClick={() => props.selectReactor()}>\n\t\t\t<div className=\"row\">\n\t\t\t{\n\t\t\t\t// preview or real thing\n\t\t\t\t(props.reactor.curType!=='undefined')?\n\t\t\t\tfluids.inputFluid.map((flu, i) =>\n\t\t\t\t\t<div key={i} className={'inputContainer '+flu+' w-'+Math.round(props.reactor.reagentRatio[i]*100)+stopInput[i]}>\n\t\t\t\t\t\t<div className=\"label\">{format(props.reactor.inputValue[i])}</div>\n\t\t\t\t\t\t<div className=\"bar\" style={{height: (100*props.reactor.inputValue[i]/(props.reactor.capacity()*props.reactor.reagentRatio[i])+'%')}}></div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t\t: <>\n\t\t\t\t<div className={'inputContainer w-80'}>\n\t\t\t\t\t<div className=\"label\"></div>\n\t\t\t\t\t<div className=\"bar\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div className={'inputContainer w-20'}>\n\t\t\t\t\t<div className=\"label\"></div>\n\t\t\t\t\t<div className=\"bar\"></div>\n\t\t\t\t</div></>\n\t\t\t}\n\t\t\t</div>\n\t\t\t<div className={'outputContainer '+fluids.outputFluid}>\n\t\t\t\t<div className=\"label\">{format(props.reactor.outputValue)} </div>\n\t\t\t\t<div className=\"bar\" style={{ width: (100*props.reactor.outputValue/props.reactor.capacity('output')+'%')}}></div>\n\t\t\t</div>\n\t\t\t<div className=\"output\">\n\t\t\t\t=> {format(props.reactor.lastOutput)}\n\t\t\t</div>\n\t\t</div>)\n}\n\nexport default ReactorComponent;\n","import React from 'react';\nimport ReactChartkick, { AreaChart } from 'react-chartkick'\nimport Chart from 'chart.js'\nReactChartkick.addAdapter(Chart);\n\n\nclass Statistic extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state  = {\n\t\t\tdata: [],\n\t\t};\n\t\tthis.colors = [\"#277554\", \"#AB3939\", \"#2F4272\", \"#718EA4\", \"#11061D\", \"#AA7739\"];\n\t\tthis.timer = setTimeout(() => {this.tick()}, this.props.statisticDelay*500);\n\t};\n\n\ttick() {\n\t\t//save data\n\t\tlet data = this.state.data.slice();\n\t\tfor (const name in this.props.data.fluid) {\n\t\t\tif(this.props.data.fluid.hasOwnProperty(name)) {\n\t\t\t\tconst amount = this.props.data.fluid[name];\n\t\t\t\tlet index = -1;\n\t\t\t\tif (data !== undefined)\n\t\t\t\t\tindex = data.findIndex(dat => dat.name === name);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tdata[index].data.push([ new Date(), amount ]);\n\t\t\t\t\tif (data[index].data.length > this.props.statisticPoints) {\n\t\t\t\t\t\tdata[index].data.shift();\n\t\t\t\t\t\tif (data[index].data.length > this.props.statisticPoints) {\n\t\t\t\t\t\t\tdata[index].data.shift();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tdata: [\n\t\t\t\t\t\t\t[ new Date(), amount ]\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis.setState({data});\n\t\tthis.forceUpdate();\n\t\tthis.timer = setTimeout(() => {this.tick()}, this.props.statisticDelay*1000);\n\t}\n\tshouldComponentUpdate() {\n\t\treturn false;\n\t}\n\trender() {\n\t\tconst removed = [];\n\t\tconst showData = this.state.data.filter((dat, i) => {\n\t\t\tconst index = this.props.selectedFluids.findIndex(flu => flu === dat.name);\n\t\t\tif (index === -1)\n\t\t\t\tremoved.push(i);\n\t\t\treturn index !== -1;\n\t\t});\n\t\tconst showColors = this.colors.filter((col, i) => {\n\t\t\treturn removed.findIndex(re => re === i) === -1\n\t\t});\n\t\treturn <div className=\"statistic\">\n\t\t\t<AreaChart colors={showColors} data={showData} />\n\t\t</div>\n\t}\n}\n\n\nexport default Statistic;\n","import React from 'react';\nimport ClickComponent from './clickcomponent';\nimport ReactorComponent from './reactor';\nimport Statistic from './statistic';\n\nclass Main extends React.Component {\n\trender() {\n\t\treturn <div className=\"main\">\n\t\t\t<ClickComponent\n\t\t\t\tonClickClicker={(name, bool, e) => this.props.onClickClicker(name, false, e)}\n\t\t\t\tdata={this.props.data}\n\t\t\t\tclickRewards={this.props.clickRewards}\n\t\t\t\tupgradeService={this.props.upgradeService}\n\t\t\t\tlastClick={this.props.lastClick}\n\t\t\t/>\n\t\t\t<ReactorComponent\n\t\t\t\tdata={this.props.data}\n\t\t\t\tselectReactor={(id) => this.props.selectReactor(id)}\n\t\t\t\tselectedReactor={this.props.selectedReactor}\n\t\t\t/>\n\t\t\t<Statistic\n\t\t\t\tdata={this.props.data}\n\t\t\t\tstatisticPoints={this.props.statisticPoints}\n\t\t\t\tstatisticDelay={this.props.statisticDelay}\n\t\t\t\tselectedFluids={this.props.selectedFluids}\n\t\t\t/>\n\t\t</div>\n\t}\n}\n\n\nexport default Main;\n","import React from 'react';\nimport { format } from '../helpfunctions';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nclass ReactorSettings extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t}\n\trender() {\n\t\tconst power = this.props.reactor.power;\n\t\tlet runningText = '';\n\t\tif (this.props.reactor.getFluidFlow())\n\t\tthis.props.reactor.getFluidFlow().inputFluid.map((flu, i) => {\n\t\t\trunningText += format(this.props.reactor.getFluidFlow().input[i]*power) + ' ' + flu + ' + '\n\t\t});\n\t\trunningText = runningText.replace(/\\s[+]\\s*$/, \"\");\n\t\treturn (\n\t\t\t\t(this.props.reactor.curType==='undefined')\n\t\t\t\t? (<div className=\"selection\">\n\t\t\t\t\t\t<div className=\"title\">Choose a Production</div>\n\t\t\t\t\t\t{(this.props.upgradeService.getAvailableReactorTypes().map((item, i) => (\n\t\t\t\t\t\t\t<div key={i} className=\"btn\" onClick={() => this.props.setReactorType(this.props.id, item.name)}>\n\t\t\t\t\t\t\t\t<div className={'name '+item.name}>{item.name}</div>\n\t\t\t\t\t\t\t\t<div className={'prod'+item.outputFluid}>Produce: {item.outputFluid}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)))}\n\t\t\t\t\t</div>)\n\t\t\t\t: (<div className=\"selection\">\n\t\t\t\t<div className=\"btnRow\">\n\t\t\t\t<div className=\"closeBtn\" onClick={() => this.props.deselect()}><FontAwesomeIcon icon='times' /></div>\n\t\t\t\t<div className=\"closeBtn minimize\" onClick={() => this.props.shrinkReactor(this.props.id)}><FontAwesomeIcon icon='compress' /></div>\n\t\t\t\t<div className=\"closeBtn trash\" onClick={() => this.props.setReactorType(this.props.id, 'undefined')}><FontAwesomeIcon icon='trash' /></div>\n\t\t\t\t<div className=\"title\">{this.props.reactor.curType} reactor</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"btnRow\">\n\t\t\t\t{\n\t\t\t\t\tthis.props.reactor.stopInput.map((stopInput, i) =>\n\t\t\t\t\t\t<div className=\"btn\" key={i} onClick={() => this.props.toggleInput(this.props.id, i)}>\n\t\t\t\t\t\t\t{stopInput?'start': 'stop'} input {(i+1)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"slider\">\n\t\t\t\t\t<div className=\"text\">throttle reactor 0 - 100%</div>\n\t\t\t\t\t<input type=\"range\" defaultValue=\"1\" min=\"0\" max=\"1\" step=\"0.01\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"details\">\n\t\t\t\t\t<div className=\"title\">\n\t\t\t\t\t\tInput:\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.reactor.getFluidFlow().inputFluid.map((fl, i) =>\n\t\t\t\t\t\t\t<div className=\"detail\" key={i}>{fl}: {format(this.props.reactor.lastInput[i])}/{format(this.props.reactor.inputFlow[i])} (max {this.props.reactor.inputFlowPerc*100}%/s of storage)</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t<div className=\"title\">\n\t\t\t\t\t\tRunning:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"detail\">\n\t\t\t\t\t\t{runningText} -> {format(this.props.reactor.getFluidFlow().output*power)} {this.props.reactor.getFluidFlow().outputFluid} <div className=\"small\">(per second)</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"title\">\n\t\t\t\t\t\tOutput:\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"detail\">{this.props.reactor.getFluidFlow().outputFluid}: {format(this.props.reactor.lastOutput)}/s\n\t\t\t\t\t(max {format(this.props.reactor.outputFlow*2)}/s)</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"reactorUpgrades\">\n\t\t\t\t\t{ this.props.reactor.upgrades.map((item, i ) =>\n\t\t\t\t\t\t<Upgrade\n\t\t\t\t\t\t\tonClick={() => this.props.onBuyReactorUpgrade(this.props.id, i)}\n\t\t\t\t\t\t\tupgr={item}\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tfluid={this.props.fluid}\n\t\t\t\t\t\t\tflask={this.props.flask}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>)\n\t\t);\n\t}\n}\n\nfunction Upgrade(props) {\n\tlet costText = '';\n\tconst fluid = props.fluid;\n\tprops.upgr.fluidCostType.map((type, i) => {\n\t\tcostText += props.upgr.fluidCost[i] + ' ' +type+', ';\n\t});\n\tcostText = costText.replace(/,\\s*$/, \"\");\n\treturn (\n\t\t<div className={'upgrade '+ (props.upgr.buyable(props.fluid, props.flask)?'buyable': '')}\n\t\t\tonClick={() => props.onClick(props.upgr.id)}>\n\t\t\t<div className=\"text\" dangerouslySetInnerHTML={{__html: props.upgr.text}}></div>\n\t\t\t<div className=\"costs\">{costText}</div>\n\t\t</div>)\n}\n\nexport default ReactorSettings;\n","import React from 'react';\nimport { format, formatTime } from '../helpfunctions';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Spring } from 'react-spring';\nimport './brewing.scss';\n\nclass Brewing extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t}\n\trender() {\n\t\tconst autoBrewing = this.props.upgradeService.getAutoBrewing();\n\t\tconst curAutoBrewing = this.props.curAutoBrewing;\n\t\treturn <div className=\"brewing\">\n\t\t\t<div className=\"brewQueue\">\n\t\t\t{this.props.brewingService.getQueue().slice(0, 49).map((flask, i) =>\n\t\t\t\t<QueueItem\n\t\t\t\t\tkey={i}\n\t\t\t\t\ti={i}\n\t\t\t\t\tflask={flask}\n\t\t\t\t\tonClick={() => this.props.brewingService.removeQueueItem(i)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{this.props.brewingService.getQueue().length > 49?\n\t\t\t\t<div>...</div>: ''\n\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"brewFlasks\">\n\t\t\t\t{this.props.upgradeService.getAvailableBrewingTypes(this.props.fluid).map((flask, i) =>\n\t\t\t\t\t<BrewingFlask\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tduration={this.props.upgradeService.getBrewingTimeBonus(flask.name)}\n\t\t\t\t\t\tflask={flask}\n\t\t\t\t\t\tfluid={this.props.fluid}\n\t\t\t\t\t\tonClick={() => this.props.onBrewFlask(flask.name)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{(autoBrewing.length > 0)?\n\t\t\t<div className=\"autoBrewingSettings\">\n\t\t\t\t<div>auto brewing:</div>\n\t\t\t\t{autoBrewing.map((item, i) => {\n\t\t\t\t\treturn <div key={i}><label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={curAutoBrewing===item? 'checked': ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => this.props.setAutoBrewingFlask(item)}/> {item}\n\t\t\t\t\t\t\t\t\t</label></div>\n\t\t\t\t})}\n\t\t\t</div>\n\t\t\t: ''}\n\t\t</div>\n\n\t}\n}\n\nfunction BrewingFlask(props) {\n\tlet costText = '';\n\tprops.flask.require.map((req, i) => {\n\t\tcostText += req.value + ' ' +req.name+', ';\n\t});\n\tcostText = costText.replace(/,\\s*$/, \"\");\n\treturn (\n\t<div onClick={() => props.onClick()}\n\t\t\tclassName={\"item \" + (props.flask.buyable(props.fluid)?'buyable': '')}>\n\t\t{props.flask.name}\n\t\t<div className=\"row\">\n\t\t\t<div className=\"dur\">\n\t\t\t\t{formatTime(props.duration)}\n\t\t\t</div>\n\t\t\t<div className=\"costs\">\n\t\t\t\t{costText}\n\t\t\t</div>\n\t\t</div>\n\t</div>)\n}\n\nfunction QueueItem(props) {\n\tif (props.i === 0) {\n\t\tconst dur = props.flask.duration;\n\t\tlet left = dur;\n\t\tlet curWidth = 0;\n\t\tif (props.flask.startDate !== undefined) {\n\t\t\tleft = dur - new Date().getTime() + new Date(props.flask.startDate).getTime();\n\t\t\tif (dur > 0)\n\t\t\t\tcurWidth = 100*(new Date().getTime() - new Date(props.flask.startDate).getTime()) / dur;\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"queueProg\" onClick={() => props.onClick()}>\n\t\t\t\t<div className={\"item flask \" + props.flask.name.replace(/ /g,\"-\")}>\n\t\t\t\t\t<FontAwesomeIcon icon='flask' /> {props.flask.name} {formatTime(props.flask.duration)}\n\t\t\t\t</div>\n\t\t\t\t<Spring from={{ width: curWidth+'%' }} to={{ width: 100+'%' }}\n\t\t\t\t\tconfig={{ duration: left }} reset={true}>\n\t\t\t\t\t{props2 => <div style={props2} className=\"bar\"></div>}\n\t\t\t\t</Spring>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t<div className={\"flask \" + props.flask.name.replace(/ /g,\"-\")} onClick={() => props.onClick()}>\n\t\t<FontAwesomeIcon icon='flask' />\n\t</div>)\n}\n\nexport default Brewing;\n","import React from 'react';\r\nimport { format, formatTime, formatHealth } from '../helpfunctions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHatWizard } from '@fortawesome/fontawesome-free-solid';\r\nimport { faDungeon, faSkullCrossbones } from '@fortawesome/free-solid-svg-icons'\r\nimport './combat.scss';\r\n\r\nclass Combat extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keydown\", (e) => this.handleKeyDown(e));\r\n\t}\r\n\thandleKeyDown(e) {\r\n\t\tif (e.keyCode === 87) {\r\n\t\t\tthis.props.combatService.move(0, -1, 0);\r\n\t\t} else if (e.keyCode === 68) {\r\n\t\t\tthis.props.combatService.move(1, 0, 1);\r\n\t\t} else if (e.keyCode === 83) {\r\n\t\t\tthis.props.combatService.move(0, 1, 2);\r\n\t\t} else if (e.keyCode === 65) {\r\n\t\t\tthis.props.combatService.move(-1, 0, 3);\r\n\t\t}\r\n\t\t// this.forceUpdate();\r\n\t}\r\n\tstartMap() {\r\n\t\tthis.props.combatService.startMap();\r\n\t}\r\n\tcloseMap() {\r\n\t\tthis.props.combatService.closeMap();\r\n\t}\r\n\trender() {\r\n\t\tconst menuType = this.props.combatService.getMenuType();\r\n\t\tlet attackField;\r\n\t\tif (menuType === 1)\r\n\t\t\tattackField = this.props.combatService.getMap();\r\n\t\telse if (menuType === 2)\r\n\t\t\tattackField = this.props.combatService.getDungeon();\r\n\t\tconst combat = this.props.combatService.getCombat();\r\n\t\tlet enemies;\r\n\t\tlet enemy;\r\n\t\tlet cell;\r\n\t\tlet playerNeedHeal = combat.isThrottled?' playerNeedHeal':'';\r\n\t\tlet cols = 10;\r\n\t\tconst healingflask = this.props.flask['healing flask']?this.props.flask['healing flask']:0;\r\n\t\tif (attackField) {\r\n\t\t\tenemies = attackField.getEnemies();\r\n\t\t\tenemy = this.props.combatService.getEnemy();\r\n\t\t\tcell = attackField.getCells();\r\n\t\t\tcols = attackField.getCols();\r\n\t\t}\r\n\t\treturn <div className={'combat' + playerNeedHeal}>\r\n\t\t\t<div className=\"usableFlasks\">\r\n\t\t\t\t{healingflask>0&&attackField?\r\n\t\t\t\t\t<div className=\"btn flask healing-flask\" onClick={() => this.props.useFlask('healing flask', 1)}>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon='flask' /> +1 health\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:''\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"details\">\r\n\t\t\t\t<div className=\"player\">\r\n\t\t\t\t\t<div className=\"progLabel\">You</div>\r\n\t\t\t\t\t<div className=\"prog\"><div className=\"label\">{formatHealth(combat.health)}/{formatHealth(combat.maxHealth)}</div><div className=\"bar\" style={{width: 100*combat.health/combat.maxHealth+'%'}}></div></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{(enemy && Object.entries(enemy).length > 0)?\r\n\t\t\t\t<div className=\"enemy\">\r\n\t\t\t\t\t<div className=\"progLabel\">Enemy</div>\r\n\t\t\t\t\t<div className=\"prog\"><div className=\"label\">{formatHealth(enemy.health)}/{formatHealth(enemy.maxHealth)}</div><div className=\"bar\" style={{width: 100*enemy.health/enemy.maxHealth+'%'}}></div></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t:''}\r\n\t\t\t</div>\r\n\t\t\t{menuType===0?\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"createDungeon\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"title\">create Dungeon</div>\r\n\t\t\t\t\t\t\t<div className=\"btn\">create</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div><label><input type=\"range\" defaultValue=\"0\" min=\"0\" max=\"100\" /><div>difficult</div></label></div>\r\n\t\t\t\t\t\t\t<div><label><input type=\"range\" defaultValue=\"0\" min=\"0\" max=\"100\" /><div>loot</div></label></div>\r\n\t\t\t\t\t\t\t<div><label><input type=\"range\" defaultValue=\"0\" min=\"0\" max=\"100\" /><div>size</div></label></div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"combatmenu\">\r\n\t\t\t\t\t\t<div className=\"col col-3\">\r\n\t\t\t\t\t\t\t<div className=\"item\"><FontAwesomeIcon icon='key' /> 0</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<div className=\"btn\" onClick={() => this.startMap()}>\r\n\t\t\t\t\t\t\t\t<div className=\"icon\">\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon='home' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t\t<div>Map Level {combat.curMap.mapLevel}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<div className=\"btn\">\r\n\t\t\t\t\t\t\t<div className=\"icon\">\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faDungeon} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t\t\t\t<div>dungeon level 10</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t100% <FontAwesomeIcon icon={faSkullCrossbones} />\r\n\t\t\t\t\t\t\t\t\t100% <FontAwesomeIcon icon='box-open' />\r\n\t\t\t\t\t\t\t\t\t25 <FontAwesomeIcon icon='th' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t:menuType===1?\r\n\t\t\t<Map\r\n\t\t\t\tmenuType={menuType}\r\n\t\t\t\tmapLevel={attackField.mapLevel}\r\n\t\t\t\tenemies={attackField.getEnemies()}\r\n\t\t\t\tcell={attackField.getCells()}\r\n\t\t\t\tcloseMap={() => this.closeMap()}\r\n\t\t\t\tcols={cols}\r\n\t\t\t/>\r\n\t\t\t:menuType===2?\r\n\t\t\t<Dungeon\r\n\t\t\t\tmenuType={menuType}\r\n\t\t\t\tmapLevel={attackField.mapLevel}\r\n\t\t\t\tenemies={attackField.getEnemies()}\r\n\t\t\t\tcell={attackField.getCells()}\r\n\t\t\t\tcols={cols}\r\n\t\t\t/>\r\n\t\t\t:''}\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\n\r\nfunction Dungeon(props) {\r\n\tconst isMaze = true;\r\n\treturn (\r\n\t<div className={'map isMaze cols-'+props.cols}>\r\n\t\t{props.cell.map((c, i) =>\r\n\t\t\t\t<MapCell\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\ti={i}\r\n\t\t\t\t\tcell={c}\r\n\t\t\t\t\tisDungeon={true}\r\n\t\t\t\t\tenemy={props.enemies[i]}\r\n\t\t\t\t/>\r\n\r\n\t\t)}\r\n\t</div>)\r\n}\r\n\r\nfunction Map(props) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t<div className=\"btnRow\">\r\n\t\t\t<div className=\"title\">Map {(props.mapLevel+1)}</div>\r\n\t\t\t<div className=\"closeBtn\" onClick={() => props.closeMap()}><FontAwesomeIcon icon='times' /></div>\r\n\t\t</div>\r\n\t<div className={'map isMap cols-'+props.cols}>\r\n\t\t{props.cell.map((c, i) =>\r\n\t\t\t\t<MapCell\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\ti={i}\r\n\t\t\t\t\tcell={c}\r\n\t\t\t\t\tisDungeon={false}\r\n\t\t\t\t\tenemy={props.enemies[i]}\r\n\t\t\t\t/>\r\n\t\t)}\r\n\t</div>\r\n\t</div>)\r\n}\r\n\r\nfunction MapCell(props) {\r\n\tconst e = props.enemy;\r\n\tconst classNames =\r\n\t\t'cell'+\r\n\t\t(e?' '+e.type:'') +\r\n\t\tprops.cell.wallsToString() +\r\n\t\t(props.cell.deadEnd?' deadEnd':'') +\r\n\t\t(props.cell.active?' active':'') +\r\n\t\t(props.cell.visible?'':' hidden') +\r\n\t\t(props.cell.visited?' visited':'') +\r\n\t\t(props.cell.looted?' looted':'');\r\n\tif (e && Object.entries(e).length > 0) {\r\n\treturn <div className={classNames}>\r\n\t{(e.type==='boss'||e.type==='smallBoss')?<FontAwesomeIcon icon='skull' />:\r\n\t(e.hasLoot!=='')?(\r\n\t\t\t<div className={(e.fluidLootType.length>0)? e.fluidLootType[0].replace(/ /g,\"-\"):\r\n\t\t\t\t(e.flaskLootType.length>0)? e.flaskLootType[0].replace(/ /g,\"-\"):'e'}>\r\n\t\t\t\t<FontAwesomeIcon icon={e.hasLoot}/>\r\n\t\t\t\t{ // props.cell.active?<FontAwesomeIcon icon='dot-circle'/>:''\r\n\t\t\t}\r\n\t\t\t</div>):<FontAwesomeIcon icon='skull' />}\r\n\t</div>\r\n}\r\n\treturn <div className={classNames}>\r\n\t</div>;\r\n}\r\n\r\nexport default Combat;\r\n","import React from 'react';\nimport ReactorSettings from './reactorsettings';\nimport Brewing from './brewing';\nimport Combat from './combat';\nimport './sidebar.scss';\nimport { format } from '../helpfunctions';\nimport { Transition } from 'react-spring';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Moment from 'moment';\n\nclass Sidebar extends React.Component {\n\n\trender() {\n\t\tconst fluidNames = [];\n\t\tfor (const name in this.props.data.fluid) {\n\t\t\tif(this.props.data.fluid.hasOwnProperty(name)) {\n\t\t\t\tfluidNames.push(name);\n\t\t\t}\n\t\t}\n\t\tlet menubar = '';\n\t\tif (this.props.selectedMenuBar === 0) {\n\t\t\tmenubar = <div className=\"upgrades\">\n\t\t\t\t<div className=\"title\"></div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.upgradeService.getAllUnbought().map((item, i) => (\n\t\t\t\t\t\t<Upgrade\n\t\t\t\t\t\t\tonClick={() => this.props.onBuyUpgrade(item.id)}\n\t\t\t\t\t\t\tupgr={item}\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tfluid={this.props.data.fluid}\n\t\t\t\t\t\t\tflask={this.props.data.flask}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t} else if (this.props.selectedMenuBar === 1) {\n\t\t\tmenubar = <Brewing\n\t\t\t\t\t\t\t\t\tupgradeService={this.props.upgradeService}\n\t\t\t\t\t\t\t\t\tbrewingService={this.props.brewingService}\n\t\t\t\t\t\t\t\t\tfluid={this.props.data.fluid}\n\t\t\t\t\t\t\t\t\tcurAutoBrewing={this.props.data.curAutoBrewing}\n\t\t\t\t\t\t\t\t\tonBrewFlask={(i) => this.props.onBrewFlask(i)}\n\t\t\t\t\t\t\t\t\tsetAutoBrewingFlask={(name) => this.props.setAutoBrewingFlask(name)}\n\t\t\t\t\t\t\t\t/>\n\t\t} else if (this.props.selectedMenuBar === 2) {\n\t\t\tmenubar = <div className=\"settings\">\n\t\t\t\t<div className=\"title\">Settings:</div>\n\t\t\t\t<div className=\"btnRow\">\n\t\t\t\t\t<div className=\"export btn\" onClick={() => this.props.openModal(0) }>export game</div>\n\t\t\t\t\t<div className=\"import btn\" onClick={() => this.props.openModal(1) }>import game</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"btnRow mg-top\">\n\t\t\t\t\t<label><input type=\"checkbox\"\n\t\t\t\t\t\t\t\tvalue={(!this.props.data.shrinkAuto)}\n\t\t\t\t\t\t\t\tclassName=\"checkbox\"\n\t\t\t\t\t\t\t\tonChange={() => this.props.shrinkAutoClicker()}/> Shrink Autoclicker\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"title\">Chart:</div>\n\t\t\t\t\t<div className=\"formGroup\">\n\t\t\t\t\t\t<div className=\"label\">Delay</div>\n\t\t\t\t\t\t<div><input type=\"number\" className=\"statisticDelay\" onChange={(e) => this.props.handleStatistic(e)} min=\"2\" max=\"180\" defaultValue={this.props.statisticDelay}/></div>\n\t\t\t\t\t\t<div>sec</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"formGroup\">\n\t\t\t\t\t\t<div className=\"label\">Points</div>\n\t\t\t\t\t\t<div><input type=\"number\" className=\"statisticPoints\" onChange={(e) => this.props.handleStatistic(e)} min=\"10\" step=\"10\" max=\"500\" defaultValue={this.props.statisticPoints}/></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"subtitle\">What to display:</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tfluidNames.map((name, i) =>\n\t\t\t\t\t\t<div key={i} className=\"formGroup checkbox\">\n\t\t\t\t\t\t\t<label className=\"checkbox\">\n\t\t\t\t\t\t\t\t<div><input type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={(this.props.selectedFluids.findIndex(flu => flu === name) !== -1)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.props.handleStatistic(e)}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.props.chartDisplay}/></div>\n\t\t\t\t\t\t\t\t<div className=\"label\">{name}</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t</div>\n\t\t}\n\t\treturn <div className=\"sidebar\">\n\t\t\t\t{ //noselection\n\t\t\t\t\t(this.props.selectedReactor === -1)?\n\t\t\t\t<div className=\"menu\">\n\t\t\t\t\t<div className=\"menubar\">\n\t\t\t\t\t\t<div className={\"item \"+(this.props.selectedMenuBar===0?'active':'')} onClick={() => this.props.onSelectMenuBar(0)}>Upgrades</div>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(this.props.upgradeService.getAvailableBrewingTypes().length>0)?\n\t\t\t\t\t\t<div className={\"item \"+(this.props.selectedMenuBar===1?'active':'')} onClick={() => this.props.onSelectMenuBar(1)}>Brewing</div>\n\t\t\t\t\t\t:''}\n\t\t\t\t\t\t<div className={\"item \"+(this.props.selectedMenuBar===2?'active':'')} onClick={() => this.props.onSelectMenuBar(2)}>Settings</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{menubar}\n\t\t\t\t\t{\n\t\t\t\t\t\t// combat\n\t\t\t\t\t\t(this.props.data.combat!==undefined)?\n\t\t\t\t\t\t\t<Combat\n\t\t\t\t\t\t\tflask={this.props.data.flask}\n\t\t\t\t\t\t\tcombat={this.props.data.combat}\n\t\t\t\t\t\t\tcombatService={this.props.combatService}\n\t\t\t\t\t\t\tuseFlask={(fla, a) => this.props.useFlask(fla, a)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t: ( this.props.data.reactor[this.props.selectedReactor]!==undefined?\n\t\t\t\t<div className=\"menu reactorsettings\">\n\t\t\t\t\t<ReactorSettings\n\t\t\t\t\t\tid={this.props.selectedReactor}\n\t\t\t\t\t\treactor={this.props.data.reactor[this.props.selectedReactor]}\n\t\t\t\t\t\tclicks={this.props.data.clicks}\n\t\t\t\t\t\tdeselect={() => this.props.deselect()}\n\t\t\t\t\t\tupgradeService={this.props.upgradeService}\n\t\t\t\t\t\tfluid={this.props.data.fluid}\n\t\t\t\t\t\tflask={this.props.data.flask}\n\t\t\t\t\t\tonBuyReactorUpgrade={(i, id) => this.props.onBuyReactorUpgrade(i, id)}\n\t\t\t\t\t\tsetReactorType={(index, name) => this.props.setReactorType(index, name)}\n\t\t\t\t\t\tshrinkReactor={(index, name) => this.props.shrinkReactor(index)}\n\t\t\t\t\t\ttoggleInput={(index, i) => this.props.toggleInput(index, i)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t: 'Error')\n\t\t\t}\n\t\t\t</div>\n\t}\n}\n\nexport function Upgrade(props) {\n\tlet costText = '';\n\tprops.upgr.fluidCostType.forEach((type, i) => {\n\t\tcostText += props.upgr.fluidCost[i] + ' ' +type+', ';\n\t});\n\t// props.upgr.flaskCostType.forEach((type, i) => {\n\t// \tcostText += props.upgr.flaskCost[i] + ' ' +<FontAwesomeIcon icon='flask' />+', ';\n\t// });\n\tcostText = costText.replace(/,\\s*$/, \"\");\n\treturn (\n\t\tprops.upgr.fluidThere(props.fluid, props.flask)?\n\t\t<div className={'upgrade '+ (props.upgr.buyable(props.fluid, props.flask)?'buyable': '')}\n\t\t\tonClick={() => props.onClick(props.upgr.id)}>\n\t\t\t<div className=\"text\" dangerouslySetInnerHTML={{__html: props.upgr.text}}></div>\n\t\t\t<div className=\"costs\">{costText}</div>\n\t\t\t<div className=\"costs\">\n\t\t\t\t{props.upgr.flaskCostType.map((item, i) => (\n\t\t\t\t\t<span key={i}>{props.upgr.flaskCost[i]} <span className={'flask '+item.replace(/ /g,\"-\")}><FontAwesomeIcon icon='flask' /></span></span>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t\t: '')\n}\n\nexport default Sidebar;\n","import React from 'react';\r\nimport { format } from '../helpfunctions';\r\nimport { Transition } from 'react-spring';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Upgrade } from './sidebar';\r\nimport Moment from 'moment';\r\nimport './sidebarleft.scss';\r\n\r\nclass SidebarLeft extends React.Component {\r\n\r\n\tscrollToBottom() {\r\n\t\tif (window.innerHeight > 800) {\r\n\t\t\tthis.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tthis.scrollToBottom();\r\n\t}\r\n\trender() {\r\n\t\treturn <div className=\"sidebarleft\">\r\n\t\t\t<div className=\"storedFluid\">\r\n\t\t\t{\r\n\t\t\t\tObject.keys(this.props.data.fluid).map((name, i) => (\r\n\t\t\t\t\t<FluidBar\r\n\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\tamount={this.props.data.fluid[name]}\r\n\t\t\t\t\t\tmaxAmount={this.props.capacityService.getCapacity(name)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"storedFlask\">\r\n\t\t\t{\r\n\t\t\t\tObject.keys(this.props.data.flask).map((name, i) => (\r\n\t\t\t\t\t<FlaskItem\r\n\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\tamount={this.props.data.flask[name]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"upgrades\">\r\n\t\t\t\t<div className=\"title\"></div>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.upgradeService.getAllCapacityUnbought().map((item, i) => (\r\n\t\t\t\t\t\titem.buyableHalf(this.props.data.fluid, this.props.data.flask)?\r\n\t\t\t\t\t\t<Upgrade\r\n\t\t\t\t\t\t\tonClick={() => this.props.onBuyUpgrade(item.id)}\r\n\t\t\t\t\t\t\tupgr={item}\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tfluid={this.props.data.fluid}\r\n\t\t\t\t\t\t\tflask={this.props.data.flask}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"logs\">\r\n\t\t\t\t<Transition\r\n\t\t\t\t\titems={this.props.logs} keys={item => item.key}\r\n\t\t\t\t\tfrom={{ transform: 'translate3d(-40px,0,0)', opacity: 0, height: 0 }}\r\n\t\t\t\t\tenter={{ transform: 'translate3d(0,0,0)', opacity: 1, height: 'auto' }}\r\n\t\t\t\t\tleave={{ opacity: 0 }}>\r\n\t\t\t\t\t{item => props =>\r\n\t\t\t\t\t\t<div className=\"log\" style={props}>{Moment(item.date).format('h:mm')} {item.text}</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Transition>\r\n\t\t\t\t<div style={{ float:\"left\", clear: \"both\" }}\r\n\t\t\t\t\tref={(el) => { this.messagesEnd = el }}>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\n\r\n\r\nfunction FluidBar(props) {\r\n\tconst amount = (props.amount)? props.amount: 0;\r\n\treturn ((amount!==0)?\r\n\t\t<div className={'fluid '+ (props.name)}>\r\n\t\t\t<div className=\"bar\" style={{width: (100*amount/props.maxAmount+'%')}}></div>\r\n\t\t\t<div className=\"label\">{format(amount)}/{props.maxAmount}</div>\r\n\t\t</div>\r\n\t\t: '')\r\n}\r\nfunction FlaskItem(props) {\r\n\tconst amount = (props.amount)? props.amount: 0;\r\n\treturn ((amount!==0)?\r\n\t\t<div className={'flask '+ (props.name.replace(/ /g,\"-\"))}>\r\n\t\t\t{amount} <FontAwesomeIcon icon='flask' />\r\n\t\t</div>\r\n\t\t: '')\r\n}\r\n\r\nexport default SidebarLeft;\r\n","const game = {\n\tfluid: {},\n\tflask: {},\n\tclicksReward: {},\n\tclicks: {},\n\treactor: [],\n\tautoClicker: [],\n\tupgrades: [],\n\tcurAutoBrewing: '',\n\tcombat: undefined,\n\tshrinkAuto: false,\n\tclicker: [\n\t\t'frog'\n\t],\n\tbrewingQueue: [],\n\tprestiges: [\n\t\t{\n\t\t\ttype: 'manualClicks',\n\t\t\tsubType: 'frog',\n\t\t\tlevel: 0\n\t\t},\n\t\t{\n\t\t\ttype: 'specialCountDecrease',\n\t\t\tsubType: 'frog',\n\t\t\tlevel: 0\n\t\t},\n\t]\n};\n\n\nexport default game;\n","\nconst upgrades = [\n\n\t// {\n\t// \tid: -1,\n\t// \ttype: 'reactor',\n\t// \tsubType: 'reactor',\n\t// \ttext: 'buy your first reactor',\n\t// \tfluidCost: [1],\n\t// \tfluidCostType: ['slime'],\n\t// },\n\t// {\n\t// \tid: -2,\n\t// \ttype: 'autoClicker',\n\t// \tsubType: 'frog',\n\t// \ttext: 'Autoclicker!',\n\t// \tfluidCost: [1],\n\t// \tfluidCostType: ['slime'],\n\t// },\n\t{\n\t\tid: 0,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'frog',\n\t\ttext: 'Halves the waiting time',\n\t\tfluidCost: [6],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 1,\n\t\ttype: 'capacity',\n\t\tsubType: 'slime',\n\t\ttext: 'Increase your slime capacity by 100%',\n\t\tfluidCost: [8],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\tcostIncrease:\n\t\tlvl => 10 * Math.pow(2, lvl) - (4*lvl)-2 - Math.floor(10*Math.pow(2, lvl)*.5*(lvl/(lvl+20))),\n\t\tinfinite: true,\n\t\tlevel: 0,\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 2,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'frog',\n\t\ttext: 'I hate clicking!<br>Doubles the click reward AND the click duration',\n\t\tfluidCost: [15],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 3,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'fill to kill!<br>kill the frog 20% faster',\n\t\tfluidCost: [38],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 4,\n\t\ttype: 'unlockBrewing',\n\t\tsubType: 'slimetific flask',\n\t\ttext: 'Enable the ability to store fluids in flasks',\n\t\tfluidCost: [35],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 5,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'frog',\n\t\ttext: 'Halves the waiting time until your next click',\n\t\tfluidCost: [38],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [1],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 6,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'fill to kill!<br>kill the frog 20% faster',\n\t\tfluidCost: [2],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 7,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'kill the frog 20% faster',\n\t\tfluidCost: [3],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [1],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 8,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'kill the frog 20% faster',\n\t\tfluidCost: [60],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [2],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 9,\n\t\ttype: 'reactor',\n\t\tsubType: 'reactor',\n\t\ttext: 'buy your first reactor',\n\t\tfluidCost: [3],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [3],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 10,\n\t\ttype: 'capacity',\n\t\tsubType: 'blood',\n\t\ttext: 'Increase your blood capacity by 100%',\n\t\tfluidCost: [5],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\tcostIncrease: lvl => 5 * Math.pow(2, lvl),\n\t\tinfinite: true,\n\t\tlevel: 0,\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 11,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'kill the frog 20% faster',\n\t\tfluidCost: [125],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 12,\n\t\ttype: 'brewingTimeBonus',\n\t\tsubType: 'slimetific flask',\n\t\ttext: 'Decrease brewing time by 20% (only new added flasks)',\n\t\tfluidCost: [],\n\t\tfluidCostType: [],\n\t\tflaskCost: [2],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 13,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'frog',\n\t\ttext: 'Doubles the slime reward and click duration',\n\t\tfluidCost: [150],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [3],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 16,\n\t\ttype: 'brewingTimeBonus',\n\t\tsubType: 'slimetific flask',\n\t\ttext: 'Decrease brewing time by 20% (only new added flasks)',\n\t\tfluidCost: [],\n\t\tfluidCostType: [],\n\t\tflaskCost: [4],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 14,\n\t\ttype: 'autoClicker',\n\t\tsubType: 'frog',\n\t\ttext: 'AUTOCLICKER!',\n\t\tfluidCost: [60],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [10],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 15,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'kill the frog 20% faster',\n\t\tfluidCost: [200],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [15],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 17,\n\t\ttype: 'brewingTimeBonus',\n\t\tsubType: 'slimetific flask',\n\t\ttext: 'Decrease brewing time by 20% (only new added flasks)',\n\t\tfluidCost: [],\n\t\tfluidCostType: [],\n\t\tflaskCost: [12],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 19,\n\t\ttype: 'specialCountDecrease',\n\t\tsubType: 'frog',\n\t\ttext: 'kill the frog 20% faster',\n\t\tfluidCost: [400],\n\t\tfluidCostType: ['slime'],\n\t\tflaskCost: [25],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 18,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'frog',\n\t\ttext: 'Doubles the slime reward',\n\t\tfluidCost: [500],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [28],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 20,\n\t\ttype: 'autoBrewing',\n\t\tsubType: 'slimetific flask',\n\t\ttext: 'automatically generate slimetific flask, if the queue is empty',\n\t\tfluidCost: [600],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [30],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 21,\n\t\ttype: 'unlockCombat',\n\t\tsubType: 'unlockCombat',\n\t\ttext: 'A dark hole',\n\t\tfluidCost: [800],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [40],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 22,\n\t\ttype: 'unlockBrewing',\n\t\tsubType: 'healing flask',\n\t\ttext: 'unlock healing flasks',\n\t\tfluidCost: [1000],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [50],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 23,\n\t\ttype: 'flaskRewardBonus',\n\t\tsubType: 'healing flask',\n\t\ttext: 'increase the Healing amount by 25%',\n\t\tfluidCost: [1000],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [50],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 23,\n\t\ttype: 'clicker',\n\t\tsubType: 'ghost',\n\t\ttext: 'something new',\n\t\tfluidCost: [3500],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [500],\n\t\tflaskCostType: ['slimetific flask'],\n\t\trequire: ['frog'],\n\t},\n\t{\n\t\tid: 24,\n\t\ttype: 'capacity',\n\t\tsubType: 'water',\n\t\ttext: 'Increase your water capacity by 100%',\n\t\tfluidCost: [3],\n\t\tfluidCostType: ['water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\tcostIncrease:\n\t\tlvl => 5 * Math.pow(2, lvl) - Math.floor(5*Math.pow(2, lvl)*.5*(lvl/(lvl+40))),\n\t\tinfinite: true,\n\t\tlevel: 0,\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 25,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'ghost',\n\t\ttext: 'double the ghost trouble',\n\t\tfluidCost: [3],\n\t\tfluidCostType: ['water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 26,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'ghost',\n\t\ttext: 'Decrease the ghost timer by 100%',\n\t\tfluidCost: [1000],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 27,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'ghost',\n\t\ttext: 'Decrease the ghost timer by 100%',\n\t\tfluidCost: [1500],\n\t\tfluidCostType: ['blood'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 28,\n\t\ttype: 'reactor',\n\t\tsubType: 'reactor',\n\t\ttext: 'buy a reactor',\n\t\tfluidCost: [4],\n\t\tfluidCostType: ['water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 29,\n\t\ttype: 'unlockReactor',\n\t\tsubType: 'water extractor',\n\t\ttext: 'Having the same reactor twice?<br>unlock new reactor type',\n\t\tfluidCost: [6],\n\t\tfluidCostType: ['water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 30,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'ghost',\n\t\ttext: 'Decrease ghost clicking by 100%',\n\t\tfluidCost: [2000, 30],\n\t\tfluidCostType: ['blood', 'water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 31,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'ghost',\n\t\ttext: 'Decrease ghost clicking by 100%',\n\t\tfluidCost: [4000, 50],\n\t\tfluidCostType: ['blood', 'water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 32,\n\t\ttype: 'clickspeed',\n\t\tsubType: 'ghost',\n\t\ttext: 'Decrease ghost clicking by 100%',\n\t\tfluidCost: [.5],\n\t\tfluidCostType: ['oxygen'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 33,\n\t\ttype: 'reactor',\n\t\tsubType: 'reactor',\n\t\ttext: 'buy a reactor',\n\t\tfluidCost: [1],\n\t\tfluidCostType: ['ink'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 34,\n\t\ttype: 'autoClicker',\n\t\tsubType: 'ghost',\n\t\ttext: 'ghost AUTOCLICKER!<br>3 should be a reachable number, isn\\'t it?',\n\t\tfluidCost: [3],\n\t\tfluidCostType: ['oxygen'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 35,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'ghost',\n\t\ttext: 'double the ghost trouble',\n\t\tfluidCost: [80],\n\t\tfluidCostType: ['water'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 36,\n\t\ttype: 'capacity',\n\t\tsubType: 'oxygen',\n\t\ttext: 'Increase your oxygen capacity by 100%',\n\t\tfluidCost: [5],\n\t\tfluidCostType: ['oxygen'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\tcostIncrease:\n\t\tlvl => 5 * Math.pow(2, lvl) - Math.floor(5*Math.pow(2, lvl)*.5*(lvl/(lvl+40))),\n\t\tinfinite: true,\n\t\tlevel: 0,\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 37,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'ghost',\n\t\ttext: 'double the ghost trouble',\n\t\tfluidCost: [15],\n\t\tfluidCostType: ['oxygen'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 38,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'ghost',\n\t\ttext: 'double the ghost trouble',\n\t\tfluidCost: [5],\n\t\tfluidCostType: ['ink'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 39,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'ghost',\n\t\ttext: 'double the ghost trouble',\n\t\tfluidCost: [1200, 8],\n\t\tfluidCostType: ['water', 'ink'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 40,\n\t\ttype: 'doubleclicks',\n\t\tsubType: 'ghost',\n\t\ttext: 'double the ghost trouble',\n\t\tfluidCost: [2500, 30],\n\t\tfluidCostType: ['water', 'oxygen'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n\t{\n\t\tid: 41,\n\t\ttype: 'unlockReactor',\n\t\tsubType: 'alkali mixture',\n\t\ttext: 'unlock new reactor type',\n\t\tfluidCost: [3000, 50],\n\t\tfluidCostType: ['water', 'oxygen'],\n\t\tflaskCost: [],\n\t\tflaskCostType: [],\n\t\trequire: ['ghost'],\n\t},\n];\n\nexport default upgrades;\n","import game from '../modules/game';\nimport upgrades from '../modules/upgrades';\n\nclass LocalStorageService {\n\n\tloadGame() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tlet data = JSON.parse(localStorage.getItem('alchyData'));\n\t\t\t\t// data = undefined;\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\tconsole.log('new game');\n\t\t\t\t\tresolve({data: this.newGame(), newGame: true});\n\t\t\t\t} else {\n\t\t\t\t\tresolve({data: data, newGame: false});\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\treject({ err: err});\n\t\t\t}\n\t\t});\n\t}\n\n\n\tsaveGame(data) {\n\t\tlocalStorage.setItem('alchyData', JSON.stringify(data));\n\t}\n\n\tnewGame() {\n\t\tconst gameData = game;\n\t\t// add infinite upgrades\n\t\tupgrades.forEach((upgr, i) => {\n\t\t\tif (upgr.infinite) {\n\t\t\t\tgameData.upgrades.push(upgr);\n\t\t\t}\n\t\t});\n\t\treturn gameData;\n\t}\n}\n\nexport default new LocalStorageService();\n\n\n/*\nvor frog autoClicker\n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\n\n\nzwishendrin\n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\n\n\n*/\n","// export const rewards = [\n//   createEntry: (key, rewardName, rewardAmount, specialName, specialAmount, specialCount) => {\n//     rewards.push({\n//       rewardName,\n//       rewardAmount,\n//       specialName,\n//       specialAmount,\n//       specialCount,\n//     });\n//   }\n// ]\nconst rewards = [\n\t{\n\t\tkey: 'frog',\n\t\trewardName: 'slime',\n\t\trewardAmount: 1,\n\t\tspecialName: 'blood',\n\t\tspecialAmount: 1,\n\t\tspecialCount: 30,\n\t},\n\t{\n\t\tkey: 'ghost',\n\t\trewardName: 'water',\n\t\trewardAmount: 1,\n\t\tspecialName: 'ink',\n\t\tspecialAmount: 1,\n\t\tspecialCount: 100,\n\t},\n];\n\n\nexport default rewards;\n","const clickDelay = [\r\n\t{\r\n\t\tname: 'frog',\r\n\t\tduration: 1000,\r\n\t},\r\n\t{\r\n\t\tname: 'ghost',\r\n\t\tduration: 10000,\r\n\t},\r\n];\r\n\r\n\r\nexport default clickDelay;\r\n","import rewards from '../modules/rewards';\nimport clickDelay from '../modules/clickdelay';\n\n\nclass ClickRewards {\n\n\tconstructor(upgrades, prestiges) {\n\t\tthis.upgrades = upgrades;\n\t\tthis.prestiges = prestiges;\n\t}\n\n\tupdate(upgrades, prestiges) {\n\t\tthis.upgrades = upgrades;\n\t\tthis.prestiges = prestiges;\n\t}\n\n\trewardFor(name, clicks) {\n\t\tconst theReward = rewards.find(rew => rew.key === name);\n\t\tif (theReward !== undefined)\n\t\t\treturn theReward;\n\t\treturn rewards[0];\n\t}\n\n\tspecialCount(name) {\n\t\tlet specialCountDecrease = 0;\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'specialCountDecrease' && item.subType === name) {\n\t\t\t\tspecialCountDecrease++;\n\t\t\t}\n\t\t});\n\t\tlet specialCountDecreasePresti = 0;\n\t\tthis.prestiges.forEach((item, i) => {\n\t\t\tif (item.type === 'specialCountDecrease' && item.subType === name) {\n\t\t\t\tspecialCountDecreasePresti =+ item.level;\n\t\t\t}\n\t\t});\n\t\tconst theReward = rewards.find(rew => rew.key === name);\n\t\tif (theReward !== undefined)\n\t\t\treturn Math.round(theReward.specialCount * Math.pow(.8, specialCountDecrease) * Math.pow(.95, specialCountDecreasePresti));\n\t\treturn 100;\n\t}\n\n\tclickDelay(name) {\n\t\tlet clickspeed = 0;\n\t\tlet doubleclicks = 0;\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'clickspeed' && item.subType === name) {\n\t\t\t\tclickspeed++;\n\t\t\t} else if(item.type === 'doubleclicks' && item.subType === name) {\n\t\t\t\tdoubleclicks++;\n\t\t\t}\n\t\t});\n\n\t\t// get defdelay\n\t\tlet defDelay = clickDelay.find(item => item.name === name).duration;\n\t\tif (defDelay === undefined)\n\t\t\tdefDelay = 1000;\n\t\treturn defDelay*(Math.pow(2, doubleclicks))/(Math.pow(2, clickspeed));\n\t}\n\n}\n\nexport default ClickRewards;\n","const capacity = [\n\t{\n\t\tname: 'slime',\n\t\tstartValue: 10,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n\t{\n\t\tname: 'blood',\n\t\tstartValue: 10,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n\t{\n\t\tname: 'water',\n\t\tstartValue: 5,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n\t{\n\t\tname: 'oxygen',\n\t\tstartValue: 10,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n\t{\n\t\tname: 'ink',\n\t\tstartValue: 10,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n\t{\n\t\tname: 'alkali',\n\t\tstartValue: 10,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n\t{\n\t\tname: 'poison',\n\t\tstartValue: 100,\n\t\tbonus: (level) => Math.pow(2, level),\n\t},\n];\n\n\nexport default capacity;\n","import capacity from '../modules/capacity';\n\nclass CapacityService {\n\tconstructor(upgrades) {\n\t\tthis.upgrades = upgrades;\n\t}\n\n\tupdate(upgrades) {\n\t\tthis.upgrades = upgrades;\n\t}\n\n\tgetCapacity(name) {\n\t\tconst theCapacity = capacity.find(cap => cap.name === name);\n\t\t// bonus:\n\t\tlet bonusCap = 0;\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'capacity' && item.subType === name) {\n\n\t\t\t\tif (item.infinite)\n\t\t\t\t\tbonusCap += item.level;\n\t\t\t\telse\n\t\t\t\t\tbonusCap++;\n\t\t\t}\n\t\t});\n\t\tif (theCapacity !== undefined)\n\t\t\treturn theCapacity.startValue * theCapacity.bonus(bonusCap);\n\t\treturn 100;\n\t}\n\n}\n\n\nexport default CapacityService;\n","const reactorTypes = [\n\t{\n\t\tname: 'slime',\n\t\tinput: [(.5/1.2), .1/1.2], // wird verarbeitet\n\t\tinputFluid: ['slime', 'blood'],\n\t\treagentRatio: [4/5, 1/5],\n\t\toutput: .6/1.2,\n\t\toutputFluid: 'blood',\n\t\tpower: 1, // default value\n\t\tcapacity: 10, // default value\n\t\toutputCapacity: 8,\n\t\tinputFlow: [.21, .042], // fliesst rein\n\t\tinputFlowPerc: .01, // default value\n\t\toutputFlow: .25, // default value\n\t\tupgrades: [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\ttype: 'capacity',\n\t\t\t\tsubType: 'capacity',\n\t\t\t\ttext: 'Increase your capacity by 100%',\n\t\t\t\tfluidCost: [100],\n\t\t\t\tfluidCostType: ['slime'], // war eigentlich 10 blood\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 25 * Math.pow(2, lvl) + 75,\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\ttype: 'inputFlow',\n\t\t\t\tsubType: 'inputFlow',\n\t\t\t\ttext: 'Increase your input by 100%',\n\t\t\t\tfluidCost: [18],\n\t\t\t\tfluidCostType: ['blood'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 18 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\ttype: 'power',\n\t\t\t\tsubType: 'power',\n\t\t\t\ttext: 'Increase your Power by 100%',\n\t\t\t\tfluidCost: [40],\n\t\t\t\tfluidCostType: ['blood'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 40 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 3,\n\t\t\t\ttype: 'outputFlow',\n\t\t\t\tsubType: 'outputFlow',\n\t\t\t\ttext: 'Increase your output by 100%',\n\t\t\t\tfluidCost: [32],\n\t\t\t\tfluidCostType: ['blood'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 32 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t]\n\t},\n\t{\n\t\tname: 'water extractor',\n\t\tinput: [(10)], // wird verarbeitet\n\t\tinputFluid: ['water'],\n\t\treagentRatio: [1],\n\t\toutput: .1,\n\t\toutputFluid: 'oxygen',\n\t\tpower: 1, // default value\n\t\tcapacity: 10, // default value\n\t\toutputCapacity: .5,\n\t\tinputFlow: [.15626], // fliesst rein\n\t\tinputFlowPerc: .01, // default value\n\t\toutputFlow: .0015626, // default value\n\t\tupgrades: [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\ttype: 'capacity',\n\t\t\t\tsubType: 'capacity',\n\t\t\t\ttext: 'Increase your capacity by 100%',\n\t\t\t\tfluidCost: [60],\n\t\t\t\tfluidCostType: ['water'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 60 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\ttype: 'inputFlow',\n\t\t\t\tsubType: 'inputFlow',\n\t\t\t\ttext: 'Increase your input by 100%',\n\t\t\t\tfluidCost: [.125],\n\t\t\t\tfluidCostType: ['oxygen'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => .125 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\ttype: 'power',\n\t\t\t\tsubType: 'power',\n\t\t\t\ttext: 'Increase your Power by 100%',\n\t\t\t\tfluidCost: [9.625],\n\t\t\t\tfluidCostType: ['oxygen'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 9.625 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 3,\n\t\t\t\ttype: 'outputFlow',\n\t\t\t\tsubType: 'outputFlow',\n\t\t\t\ttext: 'Increase your output by 100%',\n\t\t\t\tfluidCost: [.1875],\n\t\t\t\tfluidCostType: ['oxygen'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => .1875 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t]\n\t},\n\t{\n\t\tname: 'alkali mixture',\n\t\tinput: [.9/1.2, .095/1.2, .005/1.2], // wird verarbeitet\n\t\tinputFluid: ['blood', 'oxygen', 'ink'],\n\t\treagentRatio: [.9, .095, .005],\n\t\toutput: .1,\n\t\toutputFluid: 'alkali',\n\t\tpower: 1, // default value\n\t\tcapacity: 10, // default value\n\t\toutputCapacity: 5,\n\t\tinputFlow: [.09, 0.095, .0005], // fliesst rein\n\t\tinputFlowPerc: .01, // default value\n\t\toutputFlow: .1, // default value\n\t\tupgrades: [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\ttype: 'capacity',\n\t\t\t\tsubType: 'capacity',\n\t\t\t\ttext: 'Increase your capacity by 100%',\n\t\t\t\tfluidCost: [60],\n\t\t\t\tfluidCostType: ['water'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 60 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\ttype: 'inputFlow',\n\t\t\t\tsubType: 'inputFlow',\n\t\t\t\ttext: 'Increase your input by 100%',\n\t\t\t\tfluidCost: [.125],\n\t\t\t\tfluidCostType: ['oxygen'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => .125 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\ttype: 'power',\n\t\t\t\tsubType: 'power',\n\t\t\t\ttext: 'Increase your Power by 100%',\n\t\t\t\tfluidCost: [6],\n\t\t\t\tfluidCostType: ['oxygen'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => 6 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 3,\n\t\t\t\ttype: 'outputFlow',\n\t\t\t\tsubType: 'outputFlow',\n\t\t\t\ttext: 'Increase your output by 100%',\n\t\t\t\tfluidCost: [.1875],\n\t\t\t\tfluidCostType: ['oxygen'],\n\t\t\t\tflaskCost: [],\n\t\t\t\tflaskCostType: [],\n\t\t\t\tcostIncrease: lvl => .1875 * Math.pow(2, lvl),\n\t\t\t\tinfinite: true,\n\t\t\t\tlevel: 0,\n\t\t\t},\n\t\t]\n\t},\n];\n\n\nexport default reactorTypes;\n","const brewingTypes = [\r\n\t{\r\n\t\tname: 'slimetific flask',\r\n\t\tdesr: 'perfekt for the slimetific',\r\n\t\trequire: [\r\n\t\t\t{\r\n\t\t\t\tname: 'slime',\r\n\t\t\t\tvalue: 5\r\n\t\t\t}\r\n\t\t],\r\n\t\tduration: 30000,\r\n\t\tbonusTime: lvl => Math.pow(.8, lvl),\r\n\t},\r\n\t{\r\n\t\tname: 'healing flask',\r\n\t\tdesr: 'restore health',\r\n\t\trequire: [\r\n\t\t\t{\r\n\t\t\t\tname: 'blood',\r\n\t\t\t\tvalue: 100\r\n\t\t\t}\r\n\t\t],\r\n\t\tduration: 60000,\r\n\t\tbonusTime: lvl => Math.pow(.9, lvl),\r\n\t},\r\n]\r\n\r\n\r\n\r\n\r\nexport default brewingTypes;\r\n","\r\nclass BrewingService {\r\n\tconstructor(brewingQueue, getFlaskFunc, emptyBrewingQueueFunc) {\r\n\t\tthis.brewingQueue = brewingQueue;\r\n\t\tthis.timer = setTimeout(() => this.checkQueue(), 3000);\r\n\t\tthis.getFlaskFunc = getFlaskFunc;\r\n\t\tthis.emptyBrewingQueue = emptyBrewingQueueFunc;\r\n\t}\r\n\r\n\tgetQueue() {\r\n\t\treturn this.brewingQueue;\r\n\t}\r\n\r\n\taddToQueue(item, duration, value) {\r\n\t\tthis.brewingQueue.push({\r\n\t\t\tname: item.name,\r\n\t\t\tduration: duration,\r\n\t\t\tvalue: 1,\r\n\t\t});\r\n\t\tif (this.brewingQueue.length === 1) {\r\n\t\t\tthis.brewingQueue[0].startDate = new Date();\r\n\t\t}\r\n\t\tif (this.timer === undefined) {\r\n\t\t\tthis.timer = setTimeout(() => this.checkQueue(), duration);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveQueueItem(i) {\r\n\t\tif (i !== 0) {\r\n\t\t\tthis.brewingQueue.splice(i, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tcheckQueue() {\r\n\t\tif (this.brewingQueue.length === 0 || this.brewingQueue[0] === undefined) {\r\n\t\t\tclearTimeout(this.timer);\r\n\t\t\tthis.timer = undefined;\r\n\t\t\tthis.emptyBrewingQueue();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst fla = this.brewingQueue[0];\r\n\t\tif (fla.startDate === undefined) {\r\n\t\t\tfla.startDate = new Date();\r\n\t\t\tconst dur = fla.duration;\r\n\t\t\tthis.timer = setTimeout(() => this.checkQueue(), dur);\r\n\t\t} else {\r\n\t\t\t// wahrscheinlich fertig\r\n\t\t\tif (new Date().getTime() - new Date(fla.startDate) + 100 > fla.duration) {\r\n\t\t\t\t// fertig\r\n\t\t\t\tthis.brewingQueue.shift();\r\n\t\t\t\tlet nextDur = 0;\r\n\t\t\t\tif (this.brewingQueue.length > 0) {\r\n\t\t\t\t\tthis.brewingQueue[0].startDate = new Date();\r\n\t\t\t\t\tnextDur = this.brewingQueue[0].duration;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getFlaskFunc(fla);\r\n\t\t\t\tthis.timer = setTimeout(() => this.checkQueue(), nextDur);\r\n\t\t\t} else {\r\n\t\t\t\t// nicht fertig, sollte hier niemals reingehen\r\n\t\t\t\tlet remainingTime = fla.duration - (new Date().getTime() - new Date(fla.startDate));\r\n\t\t\t\tthis.timer = setTimeout(() => this.checkQueue(), remainingTime);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class Brewing {\r\n\tconstructor(obj) {\r\n\t\tthis.name = obj.name;\r\n\t\tthis.desr = obj.desr;\r\n\t\tthis.require = obj.require;\r\n\t\tthis.duration = obj.duration;\r\n\t}\r\n\r\n\tbuyable(fluid) {\r\n\t\tif (fluid === undefined)\r\n\t\t\treturn false;\r\n\t\treturn this.require.every((req, i) => {\r\n\t\t\tif (fluid[req.name] === undefined || fluid[req.name] < req.value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default BrewingService;\r\n","import upgrades from '../modules/upgrades';\nimport reactorTypes from '../modules/reactortypes';\nimport brewingTypes from '../modules/brewingtypes';\nimport { Brewing } from '../services/brewing';\n\nclass UpgradeService {\n\tconstructor(upgr, prestiges, clicker) {\n\t\tthis.upgrades = upgr;\n\t\tthis.prestiges = prestiges;\n\t\tthis.clicker = clicker;\n\t}\n\n\tupdate(upgr, prestiges, clicker) {\n\t\tthis.upgrades = upgr;\n\t\tthis.prestiges = prestiges;\n\t\tthis.clicker = clicker;\n\t}\n\n\tgetAllUnbought() {\n\t\tconst upgr = [];\n\t\tlet normalUpgrCounter = 0;\n\t\tupgrades.every((item) => {\n\t\t\tconst alreadyBought = this.upgrades.find(bup => bup.id === item.id);\n\t\t\tif (item.require.every(r => this.clicker.includes(r))) {\n\t\t\t\tif (alreadyBought === undefined) {\n\t\t\t\t\tupgr.push(new Upgrade(item));\n\t\t\t\t\tnormalUpgrCounter++;\n\t\t\t\t} else if (item.infinite) {\n\t\t\t\t\t// upgr.push(this.getInfUpgr(item, alreadyBought.level));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (normalUpgrCounter > 3)\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t});\n\t\tupgr.sort(sortByCost);\n\t\treturn upgr.slice(0, 3);\n\t}\n\n\tgetAllCapacityUnbought() {\n\t\tconst upgr = [];\n\t\tupgrades.map((item) => {\n\t\t\tif (item.type === 'capacity') {\n\t\t\t\tconst alreadyBought = this.upgrades.find(bup => bup.id === item.id);\n\t\t\t\tif (this.clicker.some(r => item.require.includes(r))) {\n\t\t\t\t\tif (alreadyBought !== undefined) {\n\t\t\t\t\t\tupgr.push(this.getInfUpgr(item, alreadyBought.level));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t//upgr.sort(sortByCost);\n\t\treturn upgr;\n\t}\n\n\thasUprade(id) {\n\t\treturn (this.upgrades.findIndex(bup => bup.id === id) !== -1);\n\t}\n\n\thasAutoClickerUpgrade(name) {\n\t\treturn (this.upgrades.findIndex(bup => (bup.type === 'autoClicker' && bup.subType===name)) !== -1);\n\t}\n\n\tgetInfUpgr(obj, lvl) {\n\t\tif (lvl === undefined)\n\t\t\tlvl = 0;\n\t\tconst upgr = Object.assign({}, obj);\n\t\tif (upgr.infinite) {\n\t\t\tconst cost = upgr.fluidCost.slice();\n\t\t\tcost.map((item, i) => {\n\t\t\t\tif (upgr.costIncrease !== undefined) {\n\t\t\t\t\tcost[i] = upgr.costIncrease(lvl);\n\t\t\t\t} else\n\t\t\t\t\tcost[i] = cost[i] * Math.pow(2, lvl);\n\t\t\t});\n\t\t\tupgr.fluidCost = cost;\n\t\t\tupgr.level = lvl + 1;\n\t\t}\n\t\treturn new Upgrade(upgr);\n\t}\n\n\tgetUpgrade(id) {\n\t\tconst upgr = upgrades.find(up => up.id === id);\n\t\tif (upgr !== undefined) {\n\t\t\tif (upgr.infinite) {\n\t\t\t\tconst alreadyBought = this.upgrades.find(bup => bup.id === id);\n\t\t\t\treturn new this.getInfUpgr(upgr, alreadyBought.level);\n\t\t\t}\n\t\t\treturn new Upgrade(upgr);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tlvlUp(id) {\n\t\tconst upgr = this.upgrades.find(up => up.id === id);\n\t\tif (upgr !== undefined) {\n\t\t\tupgr.level++;\n\t\t}\n\t}\n\n\tgetAvailableReactorTypes() {\n\t\tconst allReac = [];\n\t\tallReac.push(reactorTypes[0]); // erster ist immer unlocked\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'unlockReactor') {\n\t\t\t\tconst theReactor = reactorTypes.find(rea => rea.name === item.subType);\n\t\t\t\tif (theReactor !== undefined) {\n\t\t\t\t\tallReac.push(theReactor);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn allReac;\n\t}\n\n\tgetReactorTypeFluid(reactorType) {\n\t\tlet fluids = {\n\t\t\tinput: 'slime',\n\t\t\treagent: 'blood',\n\t\t\toutput: 'blood'\n\t\t};\n\n\t\tconst rea = reactorTypes.find(rea => rea.name === reactorType);\n\t\tif (rea) {\n\t\t\tfluids = {\n\t\t\t\tinput: rea.inputFluid,\n\t\t\t\treagent: rea.reagentFluid,\n\t\t\t\toutput: rea.outputFluid\n\t\t\t};\n\t\t}\n\t\treturn fluids;\n\t}\n\n\tgetAvailableBrewingTypes() {\n\t\tconst all = [];\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'unlockBrewing') {\n\t\t\t\tconst theBrewing = brewingTypes.find(brew => brew.name === item.subType);\n\t\t\t\tif (theBrewing !== undefined) {\n\t\t\t\t\tall.push(new Brewing(theBrewing));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn all;\n\t}\n\tgetSingleBrewingType(name) {\n\t\tlet foundType = undefined;\n\t\tthis.upgrades.some((item, i) => {\n\t\t\tif (item.type === 'unlockBrewing' && item.subType === name) {\n\t\t\t\tconst theBrewing = brewingTypes.find(brew => brew.name === item.subType);\n\t\t\t\tif (theBrewing !== undefined) {\n\t\t\t\t\tfoundType = (new Brewing(theBrewing));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn foundType;\n\t}\n\n\tgetAutoBrewing() {\n\t\tconst all = [];\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'autoBrewing') {\n\t\t\t\tall.push(item.subType);\n\t\t\t}\n\t\t});\n\t\treturn all;\n\t}\n\n\tgetBrewingTimeBonus(name) {\n\t\tconst theBrewing = brewingTypes.find(brew => brew.name === name);\n\t\tif (theBrewing !== undefined) {\n\t\t} else\n\t\t\treturn 60000;\n\t\tlet brewingTimeBonus = 0;\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif (item.type === 'brewingTimeBonus' && item.subType === name) {\n\t\t\t\tbrewingTimeBonus++;\n\t\t\t}\n\t\t});\n\t\treturn theBrewing.duration * theBrewing.bonusTime(brewingTimeBonus);\n\t}\n\n\tgetClickPower(name, auto) {\n\t\tlet doubleclicks = 0;\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tif(item.type === 'doubleclicks' && item.subType === name) {\n\t\t\t\tdoubleclicks++;\n\t\t\t}\n\t\t});\n\t\t// prestige manualClicks\n\t\tlet manualClicks = 0;\n\t\tif (!auto) {\n\t\t\tthis.prestiges.forEach((item, i) => {\n\t\t\t\tif(item.type === 'manualClicks' && item.subType === name) {\n\t\t\t\t\tmanualClicks = item.level;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn Math.pow(2, doubleclicks) * (1+(.05*manualClicks));\n\t}\n\n\tcheckNewInfiUpgrades() {\n\t\t// always on loading a game. Should be skipped if no new infi upgrades where implemented\n\t\tconst newInfiUpgr = [];\n\t\tupgrades.forEach((upgr, i) => {\n\t\t\tif (upgr.infinite) {\n\t\t\t\tconst alreadyHere = this.upgrades.findIndex(bup => bup.id === upgr.id);\n\t\t\t\tif (alreadyHere === -1) {\n\t\t\t\t\tnewInfiUpgr.push((upgr));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn newInfiUpgr;\n\t}\n}\n\n\nfunction sortByCost(a, b) {\n\tconst amountA = a.flaskCost[0]!==undefined?a.flaskCost[0]:(a.fluidCost[0]!==undefined?a.fluidCost[0]:0);\n\tconst amountB = b.flaskCost[0]!==undefined?b.flaskCost[0]:(b.fluidCost[0]!==undefined?b.fluidCost[0]:0);\n\tif (amountA < amountB)\n\t\treturn -1;\n\tif (amountA > amountB)\n\t\treturn 1;\n\treturn 0;\n}\n\nexport class Upgrade {\n\tconstructor(obj) {\n\n\t\tthis.id = obj.id;\n\t\tthis.type = obj.type;\n\t\tthis.subType = obj.subType;\n\t\tthis.text = obj.text;\n\t\tthis.fluidCost = obj.fluidCost;\n\t\tthis.fluidCostType = obj.fluidCostType;\n\t\tthis.flaskCost = obj.flaskCost;\n\t\tthis.flaskCostType = obj.flaskCostType;\n\t\tthis.infinite = obj.infinite;\n\t\tthis.level = obj.level;\n\t}\n\n\tbuyable(fluid, flask) {\n\t\tif (fluid === undefined || flask === undefined)\n\t\t\treturn false;\n\t\tconst enoughFluid = this.fluidCostType.every((type, i) => {\n\t\t\tif (fluid[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t} else if (fluid[type] < (this.fluidCost[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tconst enoughFlask = this.flaskCostType.every((type, i) => {\n\t\t\tif (flask[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t} else if (flask[type] < (this.flaskCost[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\treturn enoughFlask && enoughFluid;\n\t}\n\n\tbuyableHalf(fluid, flask) {\n\t\tif (fluid === undefined || flask === undefined)\n\t\t\treturn false;\n\t\tconst enoughFluid = this.fluidCostType.every((type, i) => {\n\t\t\tif (fluid[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t} else if (fluid[type] < .5*(this.fluidCost[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tconst enoughFlask = this.flaskCostType.every((type, i) => {\n\t\t\tif (flask[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t} else if (flask[type] < .5*(this.flaskCost[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\treturn enoughFlask && enoughFluid;\n\t}\n\n\tfluidThere(fluid, flask) {\n\t\tif (fluid === undefined || flask === undefined)\n\t\t\treturn false;\n\t\tconst enoughFluid = this.fluidCostType.every((type, i) => {\n\t\t\tif (fluid[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tconst enoughFlask = this.flaskCostType.every((type, i) => {\n\t\t\tif (flask[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\treturn enoughFlask && enoughFluid;\n\t}\n}\n\n\nexport default UpgradeService;\n","const enemyTypes = [\r\n\t{\r\n\t\ttype: 'normal',\r\n\t\thealthFunc: (lvl) => Math.pow(lvl/100, 2) * lvl/50 + 5,\r\n\t\tdmgFunc: (lvl) => Math.pow(lvl/100, 2) * lvl/50 + .3,\r\n\t\tminDmg: 80, // - 80%\r\n\t\tmaxDmg: 80, // + 80%\r\n\t\tlootChance: (bonus) => Math.random() > (.75 * Math.pow(.95, bonus)),\r\n\t},\r\n\t{\r\n\t\ttype: 'smallBoss',\r\n\t\thealthFunc: (lvl) => (Math.pow(lvl/100, 2) * lvl/50 + 5) * 3,\r\n\t\tdmgFunc: (lvl) => (Math.pow(lvl/100, 2) * lvl/50 + .3) * 1.1,\r\n\t\tminDmg: 80, // - 80%\r\n\t\tmaxDmg: 80, // + 80%\r\n\t\tlootChance: (bonus) => Math.random() > (.5 * Math.pow(.95, bonus)),\r\n\t},\r\n\t{\r\n\t\ttype: 'boss',\r\n\t\thealthFunc: (lvl) => (Math.pow(lvl/100, 2) * lvl/50 + 5) * 5,\r\n\t\tdmgFunc: (lvl) => (Math.pow(lvl/100, 2) * lvl/50 + .3) * 1.25,\r\n\t\tminDmg: 80, // - 80%\r\n\t\tmaxDmg: 80, // + 80%\r\n\t\tlootChance: (bonus) => true,\r\n\t},\r\n\r\n];\r\n\r\nexport default enemyTypes;\r\n","const lootTable = [\r\n\t{\r\n\t\tmap: -1, // infinite\r\n\t\toption: [\r\n\t\t\t{\r\n\t\t\t\tflaskLoot: [],\r\n\t\t\t\tflaskLootType: [],\r\n\t\t\t\tfluidLoot: [20],\r\n\t\t\t\tfluidLootType: ['slime'],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tflaskLoot: [30],\r\n\t\t\t\tflaskLootType: ['slimetific flask'],\r\n\t\t\t\tfluidLoot: [],\r\n\t\t\t\tfluidLootType: [],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tflaskLoot: [10],\r\n\t\t\t\tflaskLootType: ['healing flask'],\r\n\t\t\t\tfluidLoot: [],\r\n\t\t\t\tfluidLootType: [],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\tmap: 0,\r\n\t\toption: [\r\n\t\t\t{\r\n\t\t\t\tflaskLoot: [],\r\n\t\t\t\tflaskLootType: [],\r\n\t\t\t\tfluidLoot: [20],\r\n\t\t\t\tfluidLootType: ['slime'],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tflaskLoot: [30],\r\n\t\t\t\tflaskLootType: ['slimetific flask'],\r\n\t\t\t\tfluidLoot: [],\r\n\t\t\t\tfluidLootType: [],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tflaskLoot: [10],\r\n\t\t\t\tflaskLootType: ['healing flask'],\r\n\t\t\t\tfluidLoot: [],\r\n\t\t\t\tfluidLootType: [],\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n];\r\n\r\n\r\nexport default lootTable;\r\n","import upgrades from '../modules/upgrades';\r\nimport combatUpgrades from '../modules/combatupgrades';\r\nimport enemyTypes from '../modules/enemytypes';\r\nimport lootTable from '../modules/loottable';\r\nimport { calcMinMaxMult } from '../helpfunctions';\r\n\r\nclass CombatService {\r\n\tconstructor(upgr, prestiges, combat, getLootFunc, combatChangedFunc) {\r\n\t\tthis.upgrades = upgr;\r\n\t\tthis.prestiges = prestiges;\r\n\t\tthis.fightTimer = undefined;\r\n\t\tthis.getLootFunc = getLootFunc;\r\n\t\tthis.combatChangedFunc = combatChangedFunc;\r\n\t\tthis.combat = combat;\r\n\t\t// reinit the map and dungeon\r\n\t\tif (this.combat !== undefined && this.combat.dungeons) {\r\n\t\t\tthis.combat.curMap = new Map(false, this.combat.curMap);\r\n\t\t\tconst objDun = [];\r\n\t\t\tthis.combat.dungeons.map((dung, i) => {\r\n\t\t\t\tdung = new Dungeon(false, dung);\r\n\t\t\t})\r\n\t\t\t// this.combat.curDungeon = new Dungeon(false, this.combat.curDungeon);\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\tif (this.combat.curMenu === 1) {\r\n\t\t\tif (this.fightTimer === undefined)\r\n\t\t\t\tthis.fightTimer = setTimeout(() => this.startFight(), 1000);\r\n\t\t}\r\n\t}\r\n\r\n\tupdate(upgr, prestiges) {\r\n\t\tthis.upgrades = upgr;\r\n\t\tthis.prestiges = prestiges;\r\n\t}\r\n\r\n\tgetCombat() {\r\n\t\treturn this.combat;\r\n\t}\r\n\r\n\tflaskRewardBonus(name) {\r\n\t\tlet bonus = 0;\r\n\t\tthis.upgrades.forEach((item, i) => {\r\n\t\t\tif(item.type === 'flaskRewardBonus' && item.subType === name) {\r\n\t\t\t\tbonus++;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn Math.pow(1.25, bonus);\r\n\t}\r\n\r\n\tuseHealFlask(amount) {\r\n\t\tthis.combat.health += 3 * amount * this.flaskRewardBonus('healing flask');\r\n\t\tif (this.combat.health > this.combat.maxHealth) {\r\n\t\t\tthis.combat.health = this.combat.maxHealth;\r\n\t\t}\r\n\t\tif (this.combat.isThrottled) {\r\n\t\t\tif (this.combat.health > this.combat.maxHealth*.5) {\r\n\t\t\t\tthis.combat.isThrottled = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tstartMap() {\r\n\t\tif (this.combat.curMenu === 0) {\r\n\t\t\tthis.combat.curMenu = 1;\r\n\t\t\tif (this.fightTimer === undefined)\r\n\t\t\t\tthis.fightTimer = setTimeout(() => this.startFight(), 1000);\r\n\t\t\tthis.combatChangedFunc(this.combat);\r\n\t\t}\r\n\t}\r\n\tcloseMap() {\r\n\t\tif (this.combat.curMenu === 1) {\r\n\t\t\tthis.combat.curMenu = 0;\r\n\t\t\tthis.combatChangedFunc(this.combat);\r\n\t\t}\r\n\t}\r\n\tunlockCombat() {\r\n\t\tconsole.log('unlockCombat');\r\n\t\tthis.combat = {\r\n\t\t\thealth: 10,\r\n\t\t\tmaxHealth: 10,\r\n\t\t\tmana: 0,\r\n\t\t\tmaxMana: 0,\r\n\t\t\tep: 0,\r\n\t\t\tmaxEp: 10,\r\n\t\t\tisThrottled: false,\r\n\t\t\tdmg: 1,\r\n\t\t\tupgrades: [],\r\n\t\t\tcurMapPos: 0,\r\n\t\t\tcurDungeonPos: 0,\r\n\t\t\thighestMap: 0,\r\n\t\t\tmyTurn: true, // toggles in startFight\r\n\t\t\tcurMap: new Map(true, {cols: 10, rows: 1}),\r\n\t\t\tdungeons: [new Dungeon(true, {cols: 5, rows: 5})],\r\n\t\t\tcurDungeon: -1,\r\n\t\t\tcurMenu: 0, // 0 menu 1 map 2 dungeon\r\n\t\t};\r\n\t}\r\n\r\n\tgetMap() {\r\n\t\treturn this.combat.curMap;\r\n\t}\r\n\r\n\tgetDungeon() {\r\n\t\treturn this.combat.curDungeon;\r\n\t}\r\n\r\n\tgetMenuType() {\r\n\t\treturn this.combat.curMenu;\r\n\t}\r\n\r\n\tgetEnemy() {\r\n\t\tif (this.combat.curMenu === 1)\r\n\t\t\treturn this.combat.curMap.getEnemy(this.combat.curMapPos);\r\n\t\tif (this.combat.curMenu === 2)\r\n\t\t\treturn this.combat.curDungeon.getEnemy(this.combat.curDungeonPos);\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tgetCell() {\r\n\t\tif (this.combat.curMenu === 1)\r\n\t\t\treturn this.combat.curMap.getCell(this.combat.curMapPos);\r\n\t\tif (this.combat.curMenu === 2)\r\n\t\t\treturn this.combat.curDungeon.getCell(this.combat.curDungeonPos);\r\n\t}\r\n\r\n\tmove(x, y, dir) {\r\n\t\tif (this.combat.curMenu === 2) {\r\n\t\t\tif (this.fightTimer !== undefined)\r\n\t\t\t\treturn;\r\n\t\t\t// no blocking wall\r\n\t\t\tconst curCell = this.combat.curDungeon.getCell(this.combat.curDungeonPos);\r\n\t\t\tif (curCell === undefined || curCell.walls[dir] === true) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst nextCell = this.combat.curDungeon.getCellByCoord(curCell.x+x, curCell.y+y);\r\n\t\t\tif (nextCell === undefined)\r\n\t\t\t\treturn false;\r\n\t\t\tcurCell.active = false;\r\n\t\t\tnextCell.active = true;\r\n\t\t\tnextCell.visible = true;\r\n\t\t\tnextCell.visited = true;\r\n\t\t\tthis.combat.curDungeon.setAllNeighboursVisible(nextCell.x, nextCell.y, dir);\r\n\r\n\t\t\tconst newPos = this.combat.curDungeon.gridIndex(curCell.x+x, curCell.y+y);\r\n\t\t\tthis.combat.curDungeonPos = newPos;\r\n\t\t\tconst enemy = this.combat.curDungeon.getEnemy(newPos);\r\n\t\t\tif (enemy !== undefined && enemy.health > 0) {\r\n\t\t\t\tthis.fightTimer = setTimeout(() => this.startFight(), 1000);\r\n\t\t\t}\r\n\t\t} else if(this.combat.curMenu === 1) {\r\n\t\t\t// a map\r\n\t\t\tif (this.getEnemy().health <= 0) {\r\n\t\t\t\tif (this.combat.curMap.getEnemy(this.combat.curMapPos+1) === undefined) {\r\n\t\t\t\t\t// next map\r\n\t\t\t\t\tthis.nextMap();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// next enemy on map\r\n\t\t\t\t\tconst curCell = this.combat.curMap.getCell(this.combat.curMapPos);\r\n\t\t\t\t\tcurCell.active = false;\r\n\t\t\t\t\tthis.combat.curMapPos++;\r\n\t\t\t\t\tconst nextCell = this.combat.curMap.getCell(this.combat.curMapPos);\r\n\t\t\t\t\tnextCell.active = true;\r\n\t\t\t\t\tnextCell.visited = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.combatChangedFunc(this.combat);\r\n\t\t}\r\n\r\n\t}\r\n\tnextMap() {\r\n\t\tthis.combat.curMapPos = 0;\r\n\t\tconst lvl = this.combat.curMap.mapLevel + 1;\r\n\t\tif (lvl > this.combat.highestMap)\r\n\t\t\tthis.combat.highestMap = lvl;\r\n\t\tthis.combat.curMap = new Map(true, {mapLevel: lvl, cols: 10, rows: 10});\r\n\r\n\t}\r\n\tstartFight() {\r\n\t\tconst enemy = this.getEnemy();\r\n\t\tif (enemy === undefined) {\r\n\t\t\tthis.fightTimer = undefined;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconsole.log('fight');\r\n\t\tif (!this.combat.isThrottled) {\r\n\t\t\tif (this.combat.myTurn) {\r\n\t\t\t// you hit\r\n\t\t\t\tconst dmg = this.combat.dmg * calcMinMaxMult(50, 50);\r\n\t\t\t\tenemy.health -= dmg;\r\n\t\t\t\tif (enemy.health <= 0) {\r\n\t\t\t\t\tenemy.health = 0;\r\n\t\t\t\t\t//loot enemy dead\r\n\t\t\t\t\tif (this.getLootFunc)\r\n\t\t\t\t\t\tthis.getLootFunc(enemy);\r\n\t\t\t\t\tthis.getCell().looted = true;\r\n\t\t\t\t\tif (this.combat.curMenu === 2) {\r\n\t\t\t\t\t\tclearTimeout(this.fightTimer);\r\n\t\t\t\t\t\tthis.fightTimer = undefined;\r\n\t\t\t\t\t\t// check all dead\r\n\t\t\t\t\t\tif (this.combat.curDungeon.allDead()) {\r\n\t\t\t\t\t\t\tconsole.log('alldeadleave');\r\n\t\t\t\t\t\t\t// getCompletionBonus\r\n\t\t\t\t\t\t\tthis.combat.curMenu = 0;\r\n\t\t\t\t\t\t\tthis.combat.curDungeon = {};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// enemy turn\r\n\t\t\t\tif (enemy.health > 0) {\r\n\t\t\t\t\tthis.combat.health -= enemy.makeDmg();\r\n\t\t\t\t\tif (this.combat.health <= 1) {\r\n\t\t\t\t\t\tthis.combat.isThrottled = true;\r\n\t\t\t\t\t\tthis.combat.health = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.combat.myTurn = !this.combat.myTurn;\r\n\t\t}\r\n\t\tif (enemy.health > 0) {\r\n\t\t\t// next turn\r\n\t\t\tthis.fightTimer = setTimeout(() => this.startFight(), 1000);\r\n\t\t} else if (this.combat.curMenu === 1) {\r\n\t\t\tsetTimeout(() => this.move(), 1000);\r\n\t\t\tthis.fightTimer = setTimeout(() => this.startFight(), 2000);\r\n\t\t}\r\n\t\tthis.combatChangedFunc(this.combat);\r\n\t}\r\n}\r\n\r\n/*\r\n\tgenerate: boolean new one or load existing\r\n\tobj: if generate false load existing map\r\n*/\r\nclass AttackField {\r\n\tconstructor(generate, obj) {\r\n\t\tif (generate) {\r\n\t\t\t// generate new dungeon\r\n\t\t\tthis.cols = (obj&&obj.cols?obj.cols:10);\r\n\t\t\tthis.rows = (obj&&obj.rows?obj.rows:10);\r\n\t\t\tthis.mapLevel = (obj&&obj.mapLevel?obj.mapLevel:0);\r\n\t\t\tthis.cellAmount = this.cols*this.rows;\r\n\t\t\tthis.enemy = [];\r\n\t\t\tthis.cell = [];\r\n\t\t\tthis.name = 'Map';\r\n\t\t} else {\r\n\t\t\t// load map/dungeon\r\n\t\t\tif (obj) {\r\n\t\t\t\tthis.cols = obj.cols;\r\n\t\t\t\tthis.rows = obj.rows;\r\n\t\t\t\tthis.cellAmount = obj.cellAmount;\r\n\t\t\t\tthis.enemy = [];\r\n\t\t\t\tthis.cell = [];\r\n\t\t\t\tthis.mapLevel = obj.mapLevel;\r\n\t\t\t\tthis.name = obj.name;\r\n\t\t\t\tconst objCell = [];\r\n\t\t\t\tconst objEnemy = [];\r\n\t\t\t\tif (obj.cell)\r\n\t\t\t\t\tobj.cell.map(c => this.cell.push(new MazeCell(c)));\r\n\t\t\t\tif (obj.enemy)\r\n\t\t\t\t\tobj.enemy.map(e => this.enemy.push(new Enemy(false, e)));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tgetEnemies() {\r\n\t\treturn this.enemy;\r\n\t}\r\n\tallDead() {\r\n\t\treturn this.enemy.every(e => {\r\n\t\t\tif (e && Object.entries(e).length)\r\n\t\t\t\treturn e.health <= 0;\r\n\t\t\treturn true;\r\n\t\t});\r\n\t}\r\n\tgetCells() {\r\n\t\treturn this.cell;\r\n\t}\r\n\tgridIndex(x, y) {\r\n\t\tif (x < 0 || y < 0 || x > this.cols-1 || y > this.rows-1)\r\n\t\t\treturn -1;\r\n\t\treturn x + y * this.cols;\r\n\t}\r\n\tgetCell(i) {\r\n\t\treturn this.cell[i];\r\n\t}\r\n\tgetCols() {\r\n\t\treturn this.cols;\r\n\t}\r\n\tgetCellByCoord(x, y) {\r\n\t\tif (x < 0 || y < 0 || x > this.cols-1 || y > this.rows-1)\r\n\t\t\treturn undefined;\r\n\t\tconst i = x + y * this.cols;\r\n\t\treturn this.cell[i];\r\n\t}\r\n\tgetEnemy(i) {\r\n\t\tif (this.enemy[i] && Object.entries(this.enemy[i]).length > 0)\r\n\t\t\treturn this.enemy[i];\r\n\t\treturn undefined;\r\n\t}\r\n}\r\n\r\nclass Dungeon extends AttackField {\r\n\tconstructor(generate, obj) {\r\n\t\tsuper(generate, obj);\r\n\t\tif (generate) {\r\n\t\t\tthis.name = 'Dungeon';\r\n\t\t\t// maze things\r\n\t\t\tfor (let y = 0; y < this.rows; y++) {\r\n\t\t\t\tfor (let x = 0; x < this.cols; x++) {\r\n\t\t\t\t\tthis.cell.push(new MazeCell({x, y}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst stack = [];\r\n\t\t\tlet curCell = this.cell[0];\r\n\t\t\tcurCell.prepared = true;\r\n\t\t\tcurCell.active = true;\r\n\t\t\tcurCell.visible = true;\r\n\t\t\tcurCell.visited = true;\r\n\t\t\t// curCell.deadEnd = true; // ist zwar deadEnd aber auch startpos\r\n\t\t\twhile(this.checkNeighbours(curCell) !== undefined || stack.length > 0) {\r\n\t\t\t\tconst nextCell = this.checkNeighbours(curCell);\r\n\r\n\t\t\t\tif (nextCell) {\r\n\t\t\t\t\tnextCell.prepared = true;\r\n\t\t\t\t\tif (this.checkNeighbours(nextCell))\r\n\t\t\t\t\t\tstack.push(curCell);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tnextCell.deadEnd = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.removeWalls(curCell, nextCell);\r\n\t\t\t\t\tcurCell = nextCell;\r\n\t\t\t\t} else if (stack.length > 0) {\r\n\t\t\t\t\tcurCell = stack.pop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// add enemies\r\n\t\t\t// in maze all enemies have the same strength -> 50\r\n\t\t\tfor (let i = 0; i < this.cellAmount; i++) {\r\n\t\t\t\tif (i === 0) {\r\n\t\t\t\t\tthis.enemy[i] = (new Enemy(false, {}));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst rnd = Math.random();\r\n\t\t\t\t\tif (this.cell[i].deadEnd) {\r\n\t\t\t\t\t\t// deadEnd has always loot and an enemy\r\n\t\t\t\t\t\tif (rnd > .5)\r\n\t\t\t\t\t\t\tthis.enemy[i] = (new Enemy(true, 50, this.mapLevel, 'boss', true, true));\r\n\t\t\t\t\t\telse if (rnd > .25) {\r\n\t\t\t\t\t\t\tthis.enemy[i] = (new Enemy(true, 50, this.mapLevel, 'smallBoss', true, true));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.enemy[i] = (new Enemy(true, 50, this.mapLevel, 'normal', true, true));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// normal way\r\n\t\t\t\t\t\tif (rnd > .7) {\r\n\t\t\t\t\t\t\t// enemy but not always loot\r\n\t\t\t\t\t\t\tthis.enemy[i] = (new Enemy(true, i, this.mapLevel, 'normal', true));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.enemy[i] = (new Enemy(false, {}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tremoveWalls(a, b) {\r\n\t\tconst x = b.x - a.x;\r\n\t\tconst y = b.y - a.y;\r\n\t\tif (x === 1) {\r\n\t\t\ta.walls[1] = false;\r\n\t\t\tb.walls[3] = false;\r\n\t\t} else if (x === -1) {\r\n\t\t\ta.walls[3] = false;\r\n\t\t\tb.walls[1] = false;\r\n\t\t} else if (y === 1) {\r\n\t\t\ta.walls[2] = false;\r\n\t\t\tb.walls[0] = false;\r\n\t\t} else if (y === -1) {\r\n\t\t\ta.walls[0] = false;\r\n\t\t\tb.walls[2] = false;\r\n\t\t}\r\n\t}\r\n\r\n\tcheckNeighbours(curCell) {\r\n\t\tconst neighbours = [];\r\n\t\tconst top = this.cell[this.gridIndex(curCell.x, curCell.y+1)];\r\n\t\tconst right = this.cell[this.gridIndex(curCell.x+1, curCell.y)];\r\n\t\tconst bottom = this.cell[this.gridIndex(curCell.x, curCell.y-1)];\r\n\t\tconst left = this.cell[this.gridIndex(curCell.x-1, curCell.y)];\r\n\t\tif (top && !top.prepared) {\r\n\t\t\tneighbours.push(top);\r\n\t\t}\r\n\t\tif (right && !right.prepared) {\r\n\t\t\tneighbours.push(right);\r\n\t\t}\r\n\t\tif (bottom && !bottom.prepared) {\r\n\t\t\tneighbours.push(bottom);\r\n\t\t}\r\n\t\tif (left && !left.prepared) {\r\n\t\t\tneighbours.push(left);\r\n\t\t}\r\n\t\tif (neighbours.length > 0) {\r\n\t\t\tconst r = Math.floor(Math.random()*neighbours.length);\r\n\t\t\treturn neighbours[r];\r\n\t\t} else\r\n\t\t\treturn undefined;\r\n\t}\r\n\r\n\tsetAllNeighboursVisible(x, y, dir) {\r\n\t\tconst neighbours = [];\r\n\t\tneighbours.push(this.getCellByCoord(x, y-1));\r\n\t\tneighbours.push(this.getCellByCoord(x+1, y));\r\n\t\tneighbours.push(this.getCellByCoord(x, y+1));\r\n\t\tneighbours.push(this.getCellByCoord(x-1, y));\r\n\t\t// looking the corridor\r\n\t\tif (dir === 0) {\r\n\t\t\tlet nextY = y;\r\n\t\t\twhile(this.getCellByCoord(x, nextY) && !this.getCellByCoord(x, nextY).walls[dir]) {\r\n\t\t\t\tnextY--;\r\n\t\t\t\tneighbours.push(this.getCellByCoord(x, nextY));\r\n\t\t\t}\r\n\t\t} else if (dir === 2) {\r\n\t\t\tlet nextY = y;\r\n\t\t\twhile(this.getCellByCoord(x, nextY) && !this.getCellByCoord(x, nextY).walls[dir]) {\r\n\t\t\t\tnextY++;\r\n\t\t\t\tneighbours.push(this.getCellByCoord(x, nextY));\r\n\t\t\t}\r\n\t\t} else if (dir === 1) {\r\n\t\t\tlet nextX = x;\r\n\t\t\twhile(this.getCellByCoord(nextX, y) && !this.getCellByCoord(nextX, y).walls[dir]) {\r\n\t\t\t\tnextX++;\r\n\t\t\t\tneighbours.push(this.getCellByCoord(nextX, y));\r\n\t\t\t}\r\n\t\t} else if (dir === 3) {\r\n\t\t\tlet nextX = x;\r\n\t\t\twhile(this.getCellByCoord(nextX, y) && !this.getCellByCoord(nextX, y).walls[dir]) {\r\n\t\t\t\tnextX--;\r\n\t\t\t\tneighbours.push(this.getCellByCoord(nextX, y));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tneighbours.map(n => {\r\n\t\t\tif (n)\r\n\t\t\t\tn.visible = true;\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Map extends AttackField {\r\n\tconstructor(generate, obj) {\r\n\t\tsuper(generate, obj);\r\n\t\tif (generate) {\r\n\t\t\tif (this.mapLevel < 10) {\r\n\t\t\t\tthis.rows = (this.mapLevel+1);\r\n\t\t\t\tthis.cellAmount = this.rows*this.cols;\r\n\t\t\t}\r\n\t\t\t// generate a new map\r\n\t\t\t// maze things\r\n\t\t\tfor (let y = 0; y < this.rows; y++) {\r\n\t\t\t\tfor (let x = 0; x < this.cols; x++) {\r\n\t\t\t\t\tthis.cell.push(new MazeCell({x, y}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// enemies\r\n\t\t\tfor (let i = 0; i < this.cellAmount; i++) {\r\n\t\t\t\tthis.enemy.push(new Enemy(true, i, this.mapLevel));\r\n\t\t\t}\r\n\t\t\tthis.cell[0].active = true;\r\n\t\t\tthis.cell[0].visited = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass MazeCell {\r\n\tconstructor(obj) {\r\n\t\tthis.x = obj.x?obj.x:0;\r\n\t\tthis.y = obj.y?obj.y:0;\r\n\t\tthis.walls = obj.walls?obj.walls:[true, true, true, true];\r\n\t\tthis.prepared = obj.prepared?obj.prepared:false;\r\n\t\tthis.deadEnd = obj.deadEnd?obj.deadEnd:false;\r\n\t\tthis.visited = obj.visited?obj.visited:false;\r\n\t\tthis.visible = obj.visible?obj.visible:false;\r\n\t\tthis.active = obj.active?obj.active:false;\r\n\t\tthis.looted = obj.looted?obj.looted:false;\r\n\t}\r\n\twallsToString() {\r\n\t\tlet str = '';\r\n\t\tif (this.walls[0])\r\n\t\t\tstr += ' hasWallTop';\r\n\t\tif (this.walls[1])\r\n\t\t\tstr += ' hasWallRight';\r\n\t\tif (this.walls[2])\r\n\t\t\tstr += ' hasWallBottom';\r\n\t\tif (this.walls[3])\r\n\t\t\tstr += ' hasWallLeft';\r\n\t\treturn str;\r\n\t}\r\n}\r\n\r\nclass Enemy {\r\n\tconstructor(generate, i, mapLevel, enemyTypeName?, isDungeon=false, alwaysLoot=false) {\r\n\t\tif (generate) {\r\n\t\t\tthis.level = i + mapLevel*100;\r\n\t\t\tif (enemyTypeName===undefined) {\r\n\t\t\t\tenemyTypeName = 'normal';\r\n\t\t\t\tif (i%100===99 || i%100===49) {\r\n\t\t\t\t\tenemyTypeName = 'boss';\r\n\t\t\t\t} else if (i%100===29 || i%100===79 || i%100===69) {\r\n\t\t\t\t\tenemyTypeName = 'smallBoss';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst enemyType = enemyTypes.find(e => e.type === enemyTypeName);\r\n\t\t\tthis.enemyType = enemyTypeName;\r\n\t\t\tthis.type = enemyType.type;\r\n\t\t\tthis.maxHealth = enemyType.healthFunc(i);\r\n\t\t\tthis.health = this.maxHealth;\r\n\t\t\tthis.dmgFunc = enemyType.dmgFunc;\r\n\t\t\tthis.minDmg = enemyType.minDmg;\r\n\t\t\tthis.maxDmg = enemyType.maxDmg;\r\n\t\t\tthis.fluidLoot = [];\r\n\t\t\tthis.fluidLootType = [];\r\n\t\t\tthis.flaskLoot = [];\r\n\t\t\tthis.flaskLootType = [];\r\n\t\t\tthis.hasLoot = '';\r\n\t\t\t// loot\r\n\t\t\tif (alwaysLoot || enemyType.lootChance(0)) {\r\n\t\t\t\tlet availLoot = lootTable.find(t => t.map === mapLevel);\r\n\t\t\t\tif (availLoot===undefined)\r\n\t\t\t\t\tavailLoot = lootTable.find(t => t.map === -1);\r\n\t\t\t\tif (availLoot !== undefined) {\r\n\t\t\t\t\tconst index = Math.floor(Math.random()*availLoot.option.length);\r\n\t\t\t\t\t// add the loot to enemy\r\n\t\t\t\t\tconst loot = availLoot.option[index];\r\n\t\t\t\t\tthis.fluidLoot = loot.fluidLoot;\r\n\t\t\t\t\tthis.fluidLootType = loot.fluidLootType;\r\n\t\t\t\t\tthis.flaskLoot = loot.flaskLoot;\r\n\t\t\t\t\tthis.flaskLootType = loot.flaskLootType;\r\n\t\t\t\t\tif (this.flaskLoot.length > 0)\r\n\t\t\t\t\t\tthis.hasLoot = 'flask';\r\n\t\t\t\t\telse if (this.fluidLoot.length > 0)\r\n\t\t\t\t\t\tthis.hasLoot = 'tint';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// load enemy from object\r\n\t\t\tif (i) {\r\n\t\t\t\tif (i!==undefined && Object.entries(i).length > 0 && i.enemyType!==undefined) {\r\n\t\t\t\t\tthis.enemyType = i.enemyType?i.enemyType:'normal';\r\n\t\t\t\t\tconst enemyType = enemyTypes.find(e => e.type === this.enemyType);\r\n\t\t\t\t\tthis.level = (i.level!==undefined)?i.level:0;\r\n\t\t\t\t\tthis.type = (i.type!==undefined)?i.type:'normal';\r\n\t\t\t\t\tthis.maxHealth = (i.maxHealth!==undefined)?i.maxHealth:10;\r\n\t\t\t\t\tthis.health = (i.health!==undefined)?i.health:0;\r\n\t\t\t\t\tthis.minDmg = (i.minDmg!==undefined)?i.minDmg:10;\r\n\t\t\t\t\tthis.maxDmg = (i.maxDmg!==undefined)?i.maxDmg:20;\r\n\t\t\t\t\tthis.fluidLoot = (i.fluidLoot!==undefined)?i.fluidLoot:[];\r\n\t\t\t\t\tthis.fluidLootType = (i.fluidLootType!==undefined)?i.fluidLootType:[];\r\n\t\t\t\t\tthis.flaskLoot = (i.flaskLoot!==undefined)?i.flaskLoot:[];\r\n\t\t\t\t\tthis.flaskLootType = (i.flaskLootType!==undefined)?i.flaskLootType:[];\r\n\t\t\t\t\tthis.hasLoot = (i.hasLoot!==undefined)?i.hasLoot:'';\r\n\t\t\t\t\t// again load functions\r\n\t\t\t\t\tthis.dmgFunc = enemyType.dmgFunc;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tmakeDmg() {\r\n\t\treturn this.dmgFunc(this.level) * calcMinMaxMult(this.minDmg, this.maxDmg);\r\n\t}\r\n\r\n}\r\n\r\nexport default CombatService;\r\n","import reactorTypes from './reactortypes';\n\nexport default class Reactor {\n\tconstructor(obj, runFunc) {\n\t\t// this.capacity = 10;\n\t\tthis.curType = obj.curType || 'undefined';\n\t\tthis.inputFlow = obj.inputFlow || []; // in numbers\n\t\tthis.inputFlowPerc = obj.inputFlowPerc || .01; // in perc!\n\t\tthis.outputFlow = obj.outputFlow || .5; // in numbers\n\t\tthis.power = obj.power || 1;\n\t\tthis.isRunning = false;\n\t\tthis.lastOutput = 0;\n\t\tthis.lastInput = [];\n\t\tthis.lastReagent = 0;\n\t\tthis.reagentRatio = obj.reagentRatio || [4/5, 1/5]; // in numbers\n\t\tthis.shrink = false;\n\t\tthis.stopInput = [];\n\t\tthis.inputValue = [];\n\t\tthis.inputFlow.map((a, i) => {\n\t\t\tthis.inputValue[i] = 0;\n\t\t\tthis.stopInput[i] = false;\n\t\t});\n\t\t// stored values\n\t\tthis.outputValue = obj.outputValue || 0;\n\n\t\tthis.upgrades = obj.upgrades || [];\n\t\tthis.upgrades.forEach((item, i) => {\n\t\t\tthis.upgrades[i] = new ReactorUpgrade(item, this.curType);\n\t\t});\n\t\tthis.recalc();\n\t\tthis.timer = setInterval(() => runFunc(this), 1000);\n\t}\n\n\tdestroy() {\n\t\tclearInterval(this.timer);\n\t}\n\n\tcapacity(output='') {\n\t\t// get reactor type\n\t\tconst rea = reactorTypes.find(type => type.name === this.curType);\n\t\tif (rea === undefined)\n\t\t\treturn;\n\t\tlet lvl = 0;\n\t\tconst upgrade = this.upgrades.find(up => up.type === 'capacity');\n\t\tif (upgrade !== undefined)\n\t\t\tlvl = upgrade.level;\n\t\tif (output === 'output')\n\t\t\treturn rea.outputCapacity * Math.pow(2, lvl);\n\t\telse\n\t\t\treturn rea.capacity * Math.pow(2, lvl);\n\t}\n\n\ttoggleShrink() {\n\t\tthis.shrink = !this.shrink;\n\t}\n\n\ttoggleInput(i) {\n\t\tif (this.stopInput[i] !== undefined)\n\t\t\tthis.stopInput[i] = !this.stopInput[i];\n\t}\n\n\tresetValues() {\n\t\tthis.inputValue.map((fl, i) => {\n\t\t\tthis.inputValue[i] = 0;\n\t\t});\n\t\tthis.outputValue = 0;\n\t}\n\n\taddValues(input, i) {\n\t\tthis.lastInput[i] = input;\n\t\tthis.inputValue[i] += input;\n\t}\n\n\taddOutputValue(val) {\n\t\tthis.lastOutput = -val;\n\t\tthis.outputValue += val;\n\t}\n\n\tsetType(newName) {\n\t\tthis.curType = newName;\n\t\tconst rea = reactorTypes.find(rea => rea.name === newName);\n\t\tif (rea) {\n\t\t\t// set upgrades\n\t\t\tthis.upgrades = rea.upgrades.slice(); // deeeeeepth copy\n\t\t\tthis.upgrades.forEach((item, i) => {\n\t\t\t\tthis.upgrades[i] = new ReactorUpgrade(item, newName);\n\t\t\t});\n\t\t\t// set startflows\n\t\t\tthis.inputFlow = rea.inputFlow;\n\t\t\tthis.inputFlowPerc = rea.inputFlowPerc;\n\t\t\tthis.outputFlow = rea.outputFlow;\n\t\t\tthis.reagentRatio = rea.reagentRatio;\n\t\t\tthis.stopInput = [];\n\t\t\tthis.inputFlow.map((a, i) => {\n\t\t\t\tthis.inputValue[i] = 0;\n\t\t\t\tthis.stopInput[i] = false;\n\t\t\t});\n\t\t} else\n\t\t\tthis.upgrades = [];\n\t\tthis.resetValues();\n\t}\n\n\trun() {\n\t\tconst type = reactorTypes.find(type => type.name === this.curType);\n\t\tif (type === undefined)\n\t\t\treturn this.outputValue;\n\t\tconst power = this.power;\n\t\tconst inputAmount = [];\n\t\ttype.input.map((a, i) => {\n\t\t\tinputAmount.push(power * a);\n\t\t});\n\t\tconst outputAmount = power * type.output;\n\t\t// too less inputs or full do nothing\n\t\tlet tooLessInput = false;\n\t\ttype.input.map((a, i) => {\n\t\t\tif (this.inputValue[i] < inputAmount[i])\n\t\t\t\ttooLessInput = true;\n\t\t});\n\t\tif (tooLessInput ||\n\t\t\t\tthis.outputValue+outputAmount > this.capacity('output')) {\n\t\t\t\t\tthis.isRunning = false;\n\t\t\t\t\treturn this.outputValue;\n\t\t}\n\t\t// convert\n\t\ttype.input.map((a, i) => {\n\t\t\tthis.inputValue[i] -= inputAmount[i];\n\t\t});\n\t\tthis.outputValue += outputAmount;\n\t\tthis.isRunning = true;\n\t\treturn this.outputValue;\n\t}\n\n\tgetFluid() {\n\t\tconst type = reactorTypes.find(type => type.name === this.curType);\n\t\tif (type === undefined)\n\t\t\treturn {\n\t\t\t\tinputFluid: ['undefined'],\n\t\t\t\t// reagentFluid: 'undefined',\n\t\t\t\toutputFluid: 'undefined',\n\t\t\t}\n\t\treturn {\n\t\t\tinputFluid: type.inputFluid,\n\t\t\t// reagentFluid: type.reagentFluid,\n\t\t\toutputFluid: type.outputFluid,\n\t\t}\n\t}\n\n\tgetFluidFlow() {\n\t\tconst type = reactorTypes.find(type => type.name === this.curType);\n\t\tif (type === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn {\n\t\t\tinputFluid: type.inputFluid,\n\t\t\t// reagentFluid: type.reagentFluid,\n\t\t\toutputFluid: type.outputFluid,\n\t\t\tinput: type.input,\n\t\t\treagent: type.reagent,\n\t\t\toutput: type.output,\n\t\t\tinputFlow: this.inputFlow,\n\t\t\tinputFlowPerc: this.inputFlowPerc,\n\t\t\toutputFlow: this.outputFlow,\n\t\t}\n\t}\n\n\tupgrade(id) {\n\t\tconst upgr = this.upgrades.find(up => up.id === id);\n\t\tif (upgr !== undefined) {\n\t\t\tupgr.level++;\n\t\t\tupgr.getCost();\n\t\t\tthis.recalc();\n\t\t}\n\t}\n\n\trecalc() {\n\t\t// get reactor type\n\t\tconst rea = reactorTypes.find(type => type.name === this.curType);\n\t\tif (rea === undefined)\n\t\t\treturn;\n\n\t\t// power\n\t\tlet lvl = 0;\n\t\tconst upgradePower = this.upgrades.find(up => up.type === 'power');\n\t\tif (upgradePower !== undefined)\n\t\t\tlvl = upgradePower.level;\n\t\tthis.power = rea.power * Math.pow(2, lvl);\n\n\t\t// inputFlow\n\t\tlvl = 0;\n\t\tconst upgradeInput = this.upgrades.find(up => up.type === 'inputFlow');\n\t\tif (upgradeInput !== undefined)\n\t\t\tlvl = upgradeInput.level;\n\t\tthis.inputFlow.map((flu, i) => {\n\t\t\tthis.inputFlow[i] = rea.inputFlow[i] * Math.pow(2, lvl);\n\t\t});\n\n\t\t// outputFlow\n\t\tlvl = 0;\n\t\tconst upgrade = this.upgrades.find(up => up.type === 'outputFlow');\n\t\tif (upgrade !== undefined)\n\t\t\tlvl = upgrade.level;\n\t\tthis.outputFlow = rea.outputFlow * Math.pow(2, lvl);\n\t}\n\n}\n\n\nexport class ReactorUpgrade {\n\tconstructor(obj, reactorName) {\n\t\tthis.id = (obj.id)?obj.id: 0;\n\t\tthis.type = (obj.type)?obj.type: 'capacity';\n\t\tthis.subType = (obj.subType)?obj.subType: 'capacity';\n\t\tthis.text = (obj.text)?obj.text: 'Increase your capacity by 100%';\n\t\tthis.fluidCost = (obj.fluidCost)?obj.fluidCost: [10];\n\t\tthis.fluidCostType = (obj.fluidCostType)?obj.fluidCostType: ['slime'];\n\t\tthis.flaskCost = (obj.flaskCost)?obj.flaskCost: [10];\n\t\tthis.flaskCostType = (obj.flaskCostType)?obj.flaskCostType: ['slimetific flask'];\n\t\tif(!obj.costIncrease) {\n\t\t\t// look in reactortypes\n\t\t\tconst theReactor = reactorTypes.find(rea => rea.name === reactorName);\n\t\t\tif (theReactor !== undefined) {\n\t\t\t\tconst theUpgrade = theReactor.upgrades.find(upgr => upgr.id === this.id);\n\t\t\t\tif (theUpgrade !== undefined) {\n\t\t\t\t\tthis.costIncrease = theUpgrade.costIncrease;\n\t\t\t\t}\n\t\t\t}\n\t\t} else\n\t\t\tthis.costIncrease = obj.costIncrease;\n\n\t\t// this.costIncrease = (obj.costIncrease)?obj.costIncrease: lvl => 10 * Math.pow(2, lvl) - 4*lvl;\n\t\tthis.infinite = (obj.infinite)?obj.infinite: true;\n\t\tthis.level = (obj.level)?obj.level: 0;\n\n\t\tthis.getCost();\n\t}\n\n\tbuyable(fluid, flask) {\n\t\tif (fluid === undefined)\n\t\t\treturn false;\n\t\tconst enoughFluid = this.fluidCostType.every((type, i) => {\n\t\t\tif (fluid[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t} else if (fluid[type] < (this.fluidCost[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tconst enoughFlask = this.flaskCostType.every((type, i) => {\n\t\t\tif (fluid[type] === undefined) {\n\t\t\t\treturn false;\n\t\t\t} else if (fluid[type] < (this.fluidCost[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\treturn enoughFlask && enoughFluid;\n\t}\n\tgetCost() {\n\t\tconst lvl = this.level;\n\t\tif (this.infinite) {\n\t\t\tconst cost = this.fluidCost.slice();\n\t\t\tcost.map((item, i) => {\n\t\t\t\tif (this.costIncrease !== undefined) {\n\t\t\t\t\tcost[i] = this.costIncrease(lvl);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('ERROR UNDEFINED');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.fluidCost = cost;\n\t\t}\n\t\treturn this.fluidCost;\n\t}\n\n}\n","class AutoClicker {\n\tconstructor(obj, func) {\n\t\tthis.type = obj.type || 'frog';\n\t\tthis.speed = obj.speed || 1000;\n\t\tthis.lastClick = obj.lastClick || new Date();\n\t\tthis.timer = setInterval(() => {func(this); this.lastClick = new Date()}, this.speed);\n\t}\n\tdestroy() {\n\t\tclearInterval(this.timer);\n\t}\n}\n\n\nexport default AutoClicker;\n","\r\nclass MyEventListener {\r\n\tconstructor(addLogFunc) {\r\n\t\tthis.addLog = addLogFunc;\r\n\t}\r\n\r\n\teventOccured(type, subType?, level?) {\r\n\t\tif (type === 'newGame') {\r\n\t\t\tthis.addLog('Welcome. I am the log.');\r\n\t\t} else if (type === 'existingGame') {\r\n\t\t\tthis.addLog('Welcome back. You missed nothing.');\r\n\t\t} else if (type === 'capacity' && subType === 'slime' && level === 1) {\r\n\t\t\tthis.addLog('Look at this graph beside me. Isn\\'t it beautiful?');\r\n\t\t// } else if (type === 'capacity' && subType === 'slime' && level === 2) {\r\n\t\t// \tthis.addLog('A few slime more and you unlock something special.');\r\n\t\t} else if (type === 'capacity' && subType === 'slime' && level === 3) {\r\n\t\t\tthis.addLog('SPOILER: Soon I will grant you an autoclicker!');\r\n\t\t} else if (type === 'capacity' && subType === 'slime' && level === 4) {\r\n\t\t\tthis.addLog('Warning: Don\\'t overfill your brewing queue!');\r\n\t\t} else if (type === 'capacity' && subType === 'blood' && level === 4) {\r\n\t\t\tthis.addLog('Making more flasks than necessary may throttle your progress!');\r\n\t\t} else if (type === 'capacity' && subType === 'blood' && level === 5) {\r\n\t\t\tthis.addLog('Do you even care about my tips?');\r\n\t\t} else if (type === 'capacity' && subType === 'blood' && level === 6) {\r\n\t\t\tthis.addLog('Converting fluids is sometimes not a good idea. You can stop the reactor by pressing stop');\r\n\t\t} else if (type === 'unlockBrewing' && subType === 'slimetific flask') {\r\n\t\t\tthis.addLog('If you brew more than one flask the other are in queue.');\r\n\t\t} else if (type === 'reactor') {\r\n\t\t\tthis.addLog('Reactors can transform fluids into fluids. Awesome!');\r\n\t\t} else if (type === 'unlockCombat') {\r\n\t\t\tthis.addLog('Use W A S D or the arrow keys to move');\r\n\t\t} else {\r\n\t\t\tconsole.log('event nicht geloggt', type, subType, level);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default MyEventListener;\r\n","import React from 'react';\n\nclass FloatingText extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst texts = [];\n\t\tthis.state = {\n\t\t\ttexts: texts\n\t\t};\n\t\tthis.lastAdded = new Date();\n\t}\n\n\tshow (x, y, msg) {\n\t\tthis.lastAdded = new Date();\n\t\tconst newText = {\n\t\t\tmsg: msg,\n\t\t\tx: x-15,\n\t\t\ty: y\n\t\t};\n\t\tthis.setState({\n\t\t\ttexts: [\n\t\t\t\t...this.state.texts,\n\t\t\t\tnewText\n\t\t\t]\n\t\t}, () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (new Date().getTime() - this.lastAdded.getTime() > 950) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\ttexts: []\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t{ this.state.texts.map((text, i) => (\n\t\t\t\t<div key={i} style={{ top: text.y+'px', left: text.x }}\n\t\t\t\t\t\tclassName={'floatingtext visible'}>\n\t\t\t\t\t{text.msg}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n\nexport default FloatingText;\n","import React from 'react';\nimport { Transition } from 'react-spring';\n\nimport './toast.scss';\n\nclass Toast extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst texts = [];\n\t\tthis.state = {\n\t\t\ttexts: texts\n\t\t};\n\t\tthis.counter = 0;\n\t}\n\n\tshow (msg, delay=3000) {\n\t\tif (delay < 2000) {\n\t\t\tdelay = 2000;\n\t\t}\n\t\tconst added = new Date();\n\t\tconst newText = {\n\t\t\tadded: added,\n\t\t\tmsg: msg,\n\t\t\tkey: this.counter++,\n\t\t};\n\t\tthis.setState({\n\t\t\ttexts: [\n\t\t\t\t...this.state.texts,\n\t\t\t\tnewText\n\t\t\t]\n\t\t}, () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst index = this.state.texts.findIndex(text => text.added === added);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tthis.setState(oldstate => ({\n\t\t\t\t\t\ttexts: oldstate.texts.splice(index, 1)\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}, delay);\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t\t<div className=\"toastWrapper\">\n\t\t\t\t<Transition\n\t\t\t\t\titems={this.state.texts} keys={item => item.key}\n\t\t\t\t\tfrom={{ transform: 'translate3d(0,-40px,0)', opacity: 0, height: 'auto' }}\n\t\t\t\t\tenter={{ transform: 'translate3d(0,0,0)', opacity: 1, height: 'auto' }}\n\t\t\t\t\tleave={{ transform: 'translate3d(0,40px,0)', opacity: 0 }}>\n\t\t\t\t\t{item => props =>\n\t\t\t\t\t\t<div className=\"toast\" style={props}>{item.msg}</div>\n\t\t\t\t\t}\n\t\t\t\t</Transition>\n\t\t\t\t</div>\n\t\t)\n\t}\n}\n\n\n\nexport default Toast;\n","import React from 'react';\r\nimport './modal.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nexport default function Modal(props) {\r\n  return (\r\n\t\t<div className={'modal '}>\r\n\t\t\t<div className={'modal-background-disable'}/>\r\n\t\t\t\t<div className={'modal-content'}>\r\n\t\t\t\t\t<div onClick={() => props.openModal(-1)} className=\"closeBtn\"><FontAwesomeIcon icon='times' /></div>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\nimport LZString from 'lz-string';\nimport Main from './components/main';\nimport Sidebar from './components/sidebar';\nimport SidebarLeft from './components/sidebarleft';\nimport localStorageService from './services/localstorage';\nimport ClickRewards from './services/clickrewards';\nimport CapacityService from './services/capacity';\nimport UpgradeService from './services/upgrade';\nimport CombatService from './services/combat';\nimport BrewingService from './services/brewing';\nimport Reactor from './modules/reactor';\nimport AutoClicker from './services/autoclicker';\nimport MyEventListener from './services/myeventlistener';\nimport FloatingText from './floatingtext';\nimport Toast from './toast';\nimport Modal from './components/modal';\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\n// import fontawesome from '@fortawesome/fontawesome';\n// import { faFrog } from '@fortawesome/fontawesome-free-solid';\nimport { faGhost } from '@fortawesome/free-solid-svg-icons'\n\nimport './App.scss';\n\nlibrary.add(faGhost);\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { data: undefined,\n\t\t\tlastClick: new Date(),\n\t\t\tselectedReactor: -1,\n\t\t\tlogs: [],\n\t\t\tselectedMenuBar: 0,\n\t\t\tshowModal: -1,\n\t\t\tcompressedExport: '',\n\t\t\timportTextareaValue: '',\n\t\t\tstatisticPoints: 100,\n\t\t\tstatisticDelay: 3,\n\t\t\tselectedFluids: ['slime', 'blood'],\n\t\t};\n\t\tlocalStorageService.loadGame().then(res => {\n\t\t\tconst data = res.data;\n\t\t\t// init\n\t\t\tdata.reactor.forEach((reac, i) => {\n\t\t\t\tdata.reactor[i] = new Reactor(reac, (theReactor) => this.runReactor(theReactor));\n\t\t\t});\n\t\t\tdata.autoClicker.forEach((auto, i) => {\n\t\t\t\tdata.autoClicker[i] = new AutoClicker(auto, (clicker) => this.autoClickerClick(clicker));\n\t\t\t});\n\t\t\t// select all fluids in chart\n\t\t\tthis.upgradeService = new UpgradeService(data.upgrades, data.prestiges, data.clicker);\n\t\t\tthis.combatService = new CombatService(data.upgrades, data.prestiges, data.combat, (e) => this.getLoot(e), (combat) => this.combatChanged(combat));\n\t\t\tthis.clickRewards = new ClickRewards(data.upgrades, data.prestiges);\n\t\t\tthis.capacityService = new CapacityService(data.upgrades);\n\t\t\tthis.brewingService = new BrewingService(data.brewingQueue, (flask) => this.getFlask(flask), () => this.emptyBrewingQueue());\n\t\t\tthis.myEventListener = new MyEventListener((text) => this.addLog(text));\n\t\t\tconst newInfiUpgr = this.upgradeService.checkNewInfiUpgrades();\n\t\t\tif (newInfiUpgr.length > 0) {\n\t\t\t\tdata.upgrades.push(...newInfiUpgr);\n\t\t\t}\n\t\t\tif (!res.newGame) {\n\t\t\t\tconst newSelFlu = [];\n\t\t\t\tfor (const name in data.fluid) {\n\t\t\t\t\tif(data.fluid.hasOwnProperty(name)) {\n\t\t\t\t\t\tnewSelFlu.push(name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.myEventListener.eventOccured('existingGame');\n\t\t\t\tthis.setState({selectedFluids: newSelFlu});\n\t\t\t\tthis.setState({statisticDelay: 10});\n\t\t\t} else {\n\t\t\t\tthis.myEventListener.eventOccured('newGame');\n\t\t\t}\n\t\t\tthis.combatService.unlockCombat();\n\t\t\tthis.setState({data}, () => {\n\t\t\t\tthis.combatService.init();\n\t\t\t});\n\t\t});\n\t\tthis.saveTimer = setInterval(() => this.save(), 10000);\n\t\tthis.floatingtext = React.createRef();\n\t\tthis.toast = React.createRef();\n\t}\n\tsave() {\n\t\t// getting brewingQueue and combat back from Service\n\t\tconst data = Object.assign({}, this.state.data);\n\t\tdata.brewingQueue = this.brewingService.getQueue();\n\t\tdata.combat = this.combatService.getCombat();\n\t\tthis.setState({data}, () => {\n\t\t\tif (this.state.data !== undefined) {\n\t\t\t\tlocalStorageService.saveGame(this.state.data);\n\t\t\t}\n\t\t\tconst exportString = JSON.stringify(this.state.data);\n\t\t\tthis.setState({compressedExport: LZString.compressToBase64(exportString)});\n\t\t\tthis.addLog('game saved');\n\t\t});\n\t}\n\taddLog(text) {\n\t\tconst key = new Date().getTime()+this.state.logs.length;\n\t\tthis.setState({logs: [...this.state.logs, {key, date: new Date(), text}]});\n\t\tif (this.state.logs.length > 40) {\n\t\t\tconst state = [...this.state.logs];\n\t\t\tstate.splice(0, 2);\n\t\t\tthis.setState({logs: state});\n\t\t}\n\t}\n\timportGame() {\n\t\ttry {\n\t\t\tconst importedString = JSON.parse(LZString.decompressFromBase64(this.state.importTextareaValue.replace(/\\s/gm, '')));\n\t\t\tif (importedString.fluid && importedString.clicks) {\n\t\t\t\tthis.setState({data: importedString});\n\t\t\t\t// init\n\t\t\t\tconst data = importedString;\n\t\t\t\tdata.reactor.forEach((reac, i) => {\n\t\t\t\t\tdata.reactor[i] = new Reactor(reac, (theReactor) => this.runReactor(theReactor));\n\t\t\t\t});\n\t\t\t\tthis.state.data.reactor.forEach((reactor) => {\n\t\t\t\t\treactor.destroy();\n\t\t\t\t})\n\t\t\t\tthis.state.data.autoClicker.forEach((auto, i) => {\n\t\t\t\t\tauto.destroy();\n\t\t\t\t});\n\t\t\t\tdata.autoClicker.forEach((auto, i) => {\n\t\t\t\t\tdata.autoClicker[i] = new AutoClicker(auto, (clicker) => this.autoClickerClick(clicker));\n\t\t\t\t});\n\n\t\t\t\tthis.upgradeService = new UpgradeService(data.upgrades, data.prestiges, data.clicker);\n\t\t\t\tthis.combatService = new CombatService(data.upgrades, data.prestiges, data.combat, (e) => this.getLoot(e), (combat) => this.combatChanged(combat));\n\t\t\t\tthis.clickRewards = new ClickRewards(data.upgrades, data.prestiges);\n\t\t\t\tthis.capacityService = new CapacityService(data.upgrades);\n\t\t\t\tthis.brewingService = new BrewingService(data.brewingQueue, (flask) => this.getFlask(flask), () => this.emptyBrewingQueue());\n\t\t\t\tthis.setState({data}, () => {\n\t\t\t\t\tthis.toast.current.show('okay', 5000);\n\t\t\t\t\tthis.openModal(-1);\n\t\t\t\t});\n\t\t\t}\n\t\t} catch(err) {\n\t\t\tconsole.log('ERR', err);\n\t\t\tthis.toast.current.show('ERROR: '+err, 5000);\n\t\t};\n\t}\n\tchangeImportTextarea(e) {\n\t\tthis.setState({importTextareaValue: e.target.value});\n\t}\n\trunReactor(theReactor) {\n\t\tif (theReactor !== undefined &&\n\t\t\t\ttheReactor.curType !== 'undefined' &&\n\t\t\t\tthis !== undefined && this.state.data !== undefined) {\n\t\t\tconst fluid = theReactor.getFluidFlow();\n\n\t\t\tlet data = Object.assign({}, this.state.data);\n\n\t\t\t// run machine\n\t\t\ttheReactor.run();\n\n\t\t\tfluid.inputFluid.map((flu, i) => {\n\t\t\tlet input = [];\n\t\t\t\t// no missing input fluid\n\t\t\t\tif (this.state.data.fluid[flu] !== undefined)\n\t\t\t\t\tinput = this.state.data.fluid[flu] * fluid.inputFlowPerc;\n\t\t\t\t// input flow bigger than input value\n\t\t\t\tif (input > theReactor.inputFlow[i])\n\t\t\t\t\tinput = theReactor.inputFlow[i];\n\t\t\t\t// input fluid bigger than capacity\n\t\t\t\tif (input+theReactor.inputValue[i] > theReactor.capacity()*theReactor.reagentRatio[i])\n\t\t\t\t\tinput = (theReactor.capacity()*theReactor.reagentRatio[i])-theReactor.inputValue[i];\n\t\t\t\tif (theReactor.stopInput[i])\n\t\t\t\t\tinput = 0;\n\t\t\t\ttheReactor.addValues(input, i);\n\t\t\t\tif (input !== 0)\n\t\t\t\t\tdata.fluid[flu] -= input;\n\t\t\t});\n\n\t\t\t// flow output\n\t\t\tlet outputAmount = theReactor.outputFlow *\n\t\t\t\t\t(1+1*(theReactor.outputValue/(theReactor.capacity('output')))); // x2 outputflow if cap\n\t\t\tif (outputAmount > theReactor.outputValue)\n\t\t\t\toutputAmount = theReactor.outputValue;\n\t\t\tif (outputAmount > this.capacityService.getCapacity(fluid.outputFluid) - data.fluid[fluid.outputFluid])\n\t\t\t\toutputAmount = this.capacityService.getCapacity(fluid.outputFluid) - data.fluid[fluid.outputFluid];\n\t\t\tdata = this.getFluid(data, fluid.outputFluid, outputAmount);\n\t\t\ttheReactor.addOutputValue(-outputAmount);\n\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tonClickClicker(name, auto=false, e) {\n\t\t// wait enough?\n\t\tif (!auto && (new Date().getTime() - this.state.lastClick.getTime()) < this.clickRewards.clickDelay(name) ) {\n\t\t\treturn;\n\t\t}\n\t\tconst power = this.upgradeService.getClickPower(name, auto);\n\t\t// valid name\n\t\tif (!auto) {\n\t\t\t// already a autoClicker? disable clicking\n\t\t\tconst autoClicker = this.state.data.autoClicker.findIndex(auto => auto.type === name);\n\t\t\tif (autoClicker !== -1)\n\t\t\t\treturn;\n\t\t\tthis.setState({lastClick: new Date()});\n\t\t}\n\t\tconst reward = this.clickRewards.rewardFor(name);\n\t\tif (reward === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tlet data = Object.assign({}, this.state.data);\n\t\tdata = this.getClickCounter(data, name, reward.rewardAmount); // *power\n\t\tif (data.clicksReward[name] >= this.clickRewards.specialCount(name)) {\n\t\t\t// get special item\n\t\t\tdata = this.getFluid(data, reward.specialName, reward.specialAmount);\n\t\t\tdata.clicksReward[name] = 0;\n\t\t\tif (e !== undefined) {\n\t\t\t\tconst [x, y] = [e.pageX, e.pageY];\n\t\t\t\tsetTimeout(() => this.floatingtext.current.show(x, y, '+'+(reward.specialAmount)+' '+reward.specialName), 400);\n\n\t\t\t}\n\t\t}\n\t\tdata = this.getFluid(data, reward.rewardName, reward.rewardAmount*power);\n\t\t// console.log('test', reward.rewardAmount*power);\n\t\tif (e !== undefined)\n\t\t\tthis.floatingtext.current.show(e.pageX, e.pageY, '+'+(reward.rewardAmount*power)+' '+reward.rewardName);\n\t\tthis.setState({data});\n\t}\n\n\tgetFluid(data, name, amount) {\n\t\tif (data.fluid[name] === undefined) {\n\t\t\tdata.fluid[name] = amount;\n\t\t} else {\n\t\t\tdata.fluid[name] += amount;\n\t\t}\n\t\tif (data.fluid[name] > this.capacityService.getCapacity(name))\n\t\t\tdata.fluid[name] = this.capacityService.getCapacity(name);\n\t\treturn data;\n\t}\n\n\tgetClickCounter(data, name, amount) {\n\t\tif (data.clicksReward[name] === undefined) {\n\t\t\tdata.clicksReward[name] = amount;\n\t\t} else {\n\t\t\tdata.clicksReward[name] += amount;\n\t\t}\n\t\tif (data.clicks[name] === undefined) { // only for statistic\n\t\t\tdata.clicks[name] = amount;\n\t\t} else {\n\t\t\tdata.clicks[name] += amount;\n\t\t}\n\t\treturn data;\n\t}\n\tonBuyUpgrade(id) {\n\t\tconst upgr = this.upgradeService.getUpgrade(id);\n\t\tif (upgr === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (upgr.buyable(this.state.data.fluid, this.state.data.flask)) {\n\t\t\t// buy it\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\t// remove fluidCost\n\t\t\tupgr.fluidCostType.forEach((type, i) => {\n\t\t\t\tdata = this.getFluid(data, type, -upgr.fluidCost[i]);\n\t\t\t});\n\t\t\t// remove flaskCost\n\t\t\tupgr.flaskCostType.forEach((type, i) => {\n\t\t\t\tdata = this.addFlask(data, type, -upgr.flaskCost[i]);\n\t\t\t});\n\t\t\tif (upgr.infinite) { //  && this.upgradeService.hasUprade(id)\n\t\t\t\tthis.upgradeService.lvlUp(id);\n\t\t\t} else\n\t\t\t\tdata.upgrades.push(upgr);\n\t\t\t// add reactor\n\t\t\tif (upgr.type==='reactor') {\n\t\t\t\tdata.reactor.push(new Reactor({}, (theReactor) => this.runReactor(theReactor)));\n\t\t\t} else if (upgr.type==='autoClicker') {\n\t\t\t\tthis.changeSelectedFluids('autoClicker', upgr.subType);\n\t\t\t\tdata.autoClicker.push(new AutoClicker({type: upgr.subType}, (clicker) => this.autoClickerClick(clicker)));\n\t\t\t} else if (upgr.type==='clicker') {\n\t\t\t\tdata.clicker.push(upgr.subType);\n\t\t\t\tthis.changeSelectedFluids('clicker', upgr.subType);\n\t\t\t} else if (upgr.type==='unlockCombat') {\n\t\t\t\tthis.combatService.unlockCombat();\n\t\t\t}\n\t\t\tthis.myEventListener.eventOccured(upgr.type, upgr.subType, upgr.level);\n\t\t\tthis.capacityService.update(data.upgrades);\n\t\t\tthis.upgradeService.update(data.upgrades, data.prestiges, data.clicker);\n\t\t\tthis.combatService.update(data.upgrades, data.prestiges);\n\t\t\tthis.clickRewards.update(data.upgrades, data.prestiges);\n\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tchangeSelectedFluids(type, subType) {\n\t\tlet selectedFluids = ['water', 'ink', 'oxygen'];\n\t\tif (type==='autoClicker' && subType === 'ghost') {\n\t\t\tselectedFluids = ['water', 'ink', 'oxygen'];\n\t\t} else if (type === 'clicker' && subType === 'ghost') {\n\t\t\tselectedFluids = ['water', 'ink', 'oxygen'];\n\t\t}\n\t\tthis.setState({selectedFluids});\n\t}\n\tselectReactor(id) {\n\t\tthis.setState({selectedReactor: id});\n\t}\n\tsetReactorType(index, name) {\n\t\tif (this.state.data.reactor[index] !== undefined) {\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\tdata.reactor[index].setType(name);\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tautoClickerClick(clicker) {\n\t\tif (clicker.type !== undefined) {\n\t\t\tthis.onClickClicker(clicker.type, true);\n\t\t}\n\t}\n\ttoggleInput(id, input) {\n\t\tif (this.state.data.reactor[id] !== undefined) {\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\tdata.reactor[id].toggleInput(input);\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tonBuyReactorUpgrade(i, id) {\n\t\tif (this.state.data.reactor[i] !== undefined &&\n\t\t\t\tthis.state.data.reactor[i].upgrades[id] !== undefined) {\n\t\t\tconst upgr = this.state.data.reactor[i].upgrades[id];\n\t\t\tif (upgr.buyable(this.state.data.fluid, this.state.data.flask)) {\n\t\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\t\t//const cost = upgr.getCost(); // wieso wird das nicht verwendet?\n\t\t\t\t// remove costs\n\t\t\t\tupgr.fluidCostType.forEach((type, i) => {\n\t\t\t\t\tdata = this.getFluid(data, type, -upgr.fluidCost[i]);\n\t\t\t\t});\n\t\t\t\tdata.reactor[i].upgrade(id);\n\t\t\t\tthis.setState({data});\n\t\t\t}\n\t\t}\n\t}\n\tonSelectMenuBar(id) {\n\t\tthis.setState({selectedMenuBar: id});\n\t}\n\topenModal(id) {\n\t\tthis.setState({showModal: id});\n\t}\n\thandleStatistic(e) {\n\t\tif (e.target.className === 'statisticDelay') {\n\t\t\tthis.setState({statisticDelay: e.target.value});\n\t\t} else if (e.target.className === 'statisticPoints') {\n\t\t\tthis.setState({statisticPoints: e.target.value});\n\t\t} else if (e.target.className === 'checkbox') {\n\t\t\tlet index = -1;\n\t\t\tif (this.state.selectedFluids.length > 0)\n\t\t\t\tindex = this.state.selectedFluids.findIndex(flu => flu === e.target.value);\n\t\t\tif (index === -1) {\n\t\t\t\tconst selectedFluids = this.state.selectedFluids.slice();\n\t\t\t\tselectedFluids.push(e.target.value);\n\t\t\t\tthis.setState({selectedFluids});\n\t\t\t} else {\n\t\t\t\tconst selectedFluids = this.state.selectedFluids.slice();\n\t\t\t\tselectedFluids.splice(index, 1)\n\t\t\t\tthis.setState({selectedFluids});\n\t\t\t}\n\t\t}\n\t}\n\tshrinkReactor(index) {\n\t\tif (this.state.data.reactor[index] !== undefined) {\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\tdata.reactor[index].toggleShrink();\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tshrinkAutoClicker() {\n\t\tlet data = Object.assign({}, this.state.data);\n\t\tdata.shrinkAuto = !data.shrinkAuto;\n\t\tthis.setState({data});\n\t}\n\temptyBrewingQueue() {\n\t\tconst auto = this.upgradeService.getAutoBrewing();\n\t\tif (auto.length > 0 && auto.includes(this.state.data.curAutoBrewing)) {\n\t\t\tthis.onBrewFlask(this.state.data.curAutoBrewing);\n\t\t}\n\t}\n\tonBrewFlask(name) {\n\t\tconst brewingType = this.upgradeService.getSingleBrewingType(name);\n\t\tif (brewingType !== undefined) {\n\t\t\tif (brewingType.buyable(this.state.data.fluid)) {\n\t\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\t\tbrewingType.require.map((req) => {\n\t\t\t\t\tdata = this.getFluid(data, req.name, -req.value);\n\t\t\t\t});\n\t\t\t\tconst duration = this.upgradeService.getBrewingTimeBonus(brewingType.name);\n\t\t\t\tthis.brewingService.addToQueue(brewingType, duration, 1);\n\t\t\t\tthis.setState({data});\n\t\t\t} else {\n\t\t\t\tthis.toast.current.show('not enough liquid', 3000);\n\t\t\t}\n\t\t}\n\t}\n\tgetFlask(flask) {\n\t\tif (flask.name !== undefined && flask.value !== undefined) {\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\tdata = this.addFlask(data, flask.name, flask.value);\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\taddFlask(data, name, amount) {\n\t\tif (data.flask[name] === undefined) {\n\t\t\tdata.flask[name] = amount;\n\t\t} else {\n\t\t\tdata.flask[name] += amount;\n\t\t}\n\t\treturn data;\n\t}\n\tsetAutoBrewingFlask(name) {\n\t\tconst auto = this.upgradeService.getAutoBrewing();\n\t\tif (name === this.state.data.curAutoBrewing) {\n\t\t\t// clear\n\t\t\tconst data = Object.assign({}, this.state.data);\n\t\t\tdata.curAutoBrewing = '';\n\t\t\tthis.setState({data});\n\t\t} else if (auto.length > 0 && auto.includes(name)) {\n\t\t\tconst data = Object.assign({}, this.state.data);\n\t\t\tdata.curAutoBrewing = name;\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tgetLoot(enemy) {\n\t\tlet lootText = 'you loot ';\n\t\tlet data = Object.assign({}, this.state.data);\n\t\tif (enemy.fluidLootType.length > 0) {\n\t\t\tenemy.fluidLootType.map((type, i) => {\n\t\t\t\tdata = this.getFluid(data, type, enemy.fluidLoot[i]);\n\t\t\t\tlootText += enemy.fluidLoot[i] + ' ' + type + ' ';\n\t\t\t});\n\t\t}\n\t\tif (enemy.flaskLootType.length > 0) {\n\t\t\tenemy.flaskLootType.map((type, i) => {\n\t\t\t\tdata = this.addFlask(data, type, enemy.flaskLoot[i]);\n\t\t\t\tlootText += enemy.flaskLoot[i] + ' ' + type + ' ';\n\t\t\t});\n\t\t}\n\t\tif (enemy.fluidLootType.length > 0 || enemy.flaskLootType.length > 0)\n\t\t\tthis.addLog(lootText);\n\t\telse\n\t\t\tthis.addLog('Enemy down');\n\t\tthis.setState({data});\n\t}\n\tuseFlask(fla, amount) {\n\t\tconst flask = this.state.data.flask[fla];\n\t\tif (flask !== undefined && flask >= amount) {\n\t\t\tif (fla === 'healing flask') {\n\t\t\t\tthis.combatService.useHealFlask(amount);\n\t\t\t}\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\tdata = this.addFlask(data, fla, -amount);\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\tcombatChanged(combat) {\n\t\tif (combat !== undefined && this.state.data !== undefined) {\n\t\t\tlet data = Object.assign({}, this.state.data);\n\t\t\tdata.combat = combat;\n\t\t\tthis.setState({data});\n\t\t}\n\t}\n\trender() {\n\t\tlet modalText = '';\n\t\tif (this.state.showModal===0) {\n\t\t\tmodalText = <div>\n\t\t\t\t<div>export string</div>\n\t\t\t\t<textarea onClick={(e) => e.target.select()} readOnly defaultValue={this.state.compressedExport}></textarea>\n\t\t\t</div>\n\t\t} else if (this.state.showModal===1) {\n\t\t\tmodalText = <div>\n\t\t\t\t<div>import string</div>\n\t\t\t\t<textarea onChange={(e) => this.changeImportTextarea(e)}></textarea>\n\t\t\t\t<div className=\"btn\" onClick={() => this.importGame()}>import game</div>\n\t\t\t</div>\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t{\n\t\t\t(this.state.data!==undefined)\n\t\t\t? <div className=\"alchy\">\n\t\t\t<SidebarLeft\n\t\t\t\tdata={this.state.data}\n\t\t\t\tcapacityService={this.capacityService}\n\t\t\t\tupgradeService={this.upgradeService}\n\t\t\t\tonBuyUpgrade={(id) => this.onBuyUpgrade(id)}\n\t\t\t\tlogs={this.state.logs}\n\t\t\t/>\n\t\t\t\t<Main\n\t\t\t\t\tonClickClicker={(name, bool, e) => this.onClickClicker(name, bool, e)}\n\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\tlastClick={this.state.lastClick}\n\t\t\t\t\tclickRewards={this.clickRewards}\n\t\t\t\t\tupgradeService={this.upgradeService}\n\t\t\t\t\tselectReactor={(i) => this.selectReactor(i)}\n\t\t\t\t\tselectedReactor={this.state.selectedReactor}\n\t\t\t\t\tstatisticPoints={this.state.statisticPoints}\n\t\t\t\t\tstatisticDelay={this.state.statisticDelay}\n\t\t\t\t\tselectedFluids={this.state.selectedFluids}\n\t\t\t\t/>\n\t\t\t\t<Sidebar\n\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\tcombatService={this.combatService}\n\t\t\t\t\tupgradeService={this.upgradeService}\n\t\t\t\t\tbrewingService={this.brewingService}\n\t\t\t\t//\tcapacityService={this.capacityService}\n\t\t\t\t\tonBuyUpgrade={(id) => this.onBuyUpgrade(id)}\n\t\t\t\t\tdeselect={() => this.selectReactor(-1)}\n\t\t\t\t\tselectedReactor={this.state.selectedReactor}\n\t\t\t\t\tsetReactorType={(index, name) => this.setReactorType(index, name)}\n\t\t\t\t\ttoggleInput={(index, i) => this.toggleInput(index, i)}\n\t\t\t\t\tonBuyReactorUpgrade={(i, id) => this.onBuyReactorUpgrade(i, id)}\n\t\t\t\t\tonSelectMenuBar={(id) => this.onSelectMenuBar(id)}\n\t\t\t\t\tshrinkReactor={(id) => this.shrinkReactor(id)}\n\t\t\t\t\tshrinkAutoClicker={() => this.shrinkAutoClicker()}\n\t\t\t\t\topenModal={(id) => this.openModal(id)}\n\t\t\t\t\tselectedMenuBar={this.state.selectedMenuBar}\n\t\t\t\t\tstatisticPoints={this.state.statisticPoints}\n\t\t\t\t\tstatisticDelay={this.state.statisticDelay}\n\t\t\t\t\thandleStatistic={(e) => this.handleStatistic(e)}\n\t\t\t\t\tselectedFluids={this.state.selectedFluids}\n\t\t\t\t\tonBrewFlask={(i) => this.onBrewFlask(i)}\n\t\t\t\t\tsetAutoBrewingFlask={(name) => this.setAutoBrewingFlask(name)}\n\t\t\t\t\tuseFlask={(fla, a) => this.useFlask(fla, a)}\n\t\t\t\t/>\n\t\t\t\t<FloatingText\n\t\t\t\t\tref={this.floatingtext}\n\t\t\t\t/>\n\t\t\t\t<Toast\n\t\t\t\t\tref={this.toast}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t: <div className=\"loading\">Loading</div>\n\t\t\t}\n\t\t\t{\n\t\t\t\t(this.state.showModal!==-1)?\n\t\t\t\t<Modal\n\t\t\t\t\topenModal={(id) => this.openModal(id)}\n\t\t\t\t>\n\t\t\t\t\t{modalText}\n\t\t\t\t</Modal>\n\t\t\t\t: ''\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}